exports.id=413,exports.ids=[413],exports.modules={638:(e,t,s)=>{Promise.resolve().then(s.bind(s,7241))},6996:(e,t,s)=>{Promise.resolve().then(s.bind(s,8884))},4995:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},902:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},3287:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]])},9361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3227:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},433:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4950:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},9663:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},519:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5517:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1614:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8449:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7241:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(9899);function r({reset:e}){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),a.jsx("button",{onClick:()=>e(),className:"px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600",children:"Try again"})]})})}},8884:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>H});var a=s(9899),r=s(6153),n=s(5507),i=s(4175),l=s(9045),o=s(519),c=s(8408),d=s(1614),m=s(3287),x=s(902),h=s(9361),u=s(7866),g=s(8449),p=s(4950),y=s(2412),b=s(2359),f=s(2109),j=s(5392),k=s(3227),N=s(856),w=s(433),v=s(9663),Z=s(5517),S=s(4995),L=s(4978),P=s(1460);async function C(){if(!("permissions"in navigator))return null;try{return(await navigator.permissions.query({name:"geolocation"})).state}catch(e){return console.error("Error checking location permission:",e),null}}async function M(e,t){try{let s=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&addressdetails=1`,{headers:{"Accept-Language":"en"}});if(!s.ok)throw Error("Failed to fetch address");let a=await s.json(),r=a.address||{};return{address:a.display_name,city:r.city||r.town||r.village||r.suburb,state:r.state,country:r.country,pincode:r.postcode}}catch(e){return console.error("Reverse geocoding error:",e),{}}}let A=(0,L.Ue)()((0,P.tJ)((e,t)=>({location:null,permissionStatus:null,isSupported:!1,isLoading:!1,error:null,hasPrompted:!1,requestLocation:async()=>{e({isLoading:!0,error:null});try{let t=await new Promise((e,t)=>{if(!("geolocation"in navigator)){t({code:0,message:"Geolocation is not supported by this browser"});return}navigator.geolocation.getCurrentPosition(async t=>{let s={latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,timestamp:t.timestamp};try{let e=await M(t.coords.latitude,t.coords.longitude);Object.assign(s,e)}catch(e){console.log("Could not fetch address:",e)}e(s)},e=>{let s="Unknown error occurred";switch(e.code){case e.PERMISSION_DENIED:s="Location permission denied. Please enable location access in your browser settings.";break;case e.POSITION_UNAVAILABLE:s="Location information is unavailable. Please try again.";break;case e.TIMEOUT:s="Location request timed out. Please try again."}t({code:e.code,message:s})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})});return e({location:t,isLoading:!1,permissionStatus:"granted",hasPrompted:!0}),!0}catch(s){return e({isLoading:!1,error:s.message,permissionStatus:1===s.code?"denied":t().permissionStatus,hasPrompted:!0}),!1}},checkPermission:async()=>{e({permissionStatus:await C()})},clearLocation:()=>{e({location:null,error:null})},setHasPrompted:t=>{e({hasPrompted:t})}}),{name:"location-storage",partialize:e=>({location:e.location,hasPrompted:e.hasPrompted})}));var E=s(832);function z({onSuccess:e,onDismiss:t,showOnMount:s=!0,variant:r="modal"}){let[i,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),{location:d,permissionStatus:m,isSupported:x,isLoading:h,error:u,hasPrompted:p,requestLocation:y,setHasPrompted:b}=A(),f=async()=>{if(await y()){E.ZP.success("Location access granted!");let t=A.getState().location;e&&t&&e(t),l(!1)}else{let e=A.getState().error;E.ZP.error(e||"Could not get location")}},j=()=>{b(!0),l(!1),t&&t()};return o&&x?"button"===r?(0,a.jsxs)("button",{onClick:f,disabled:h,className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-sky-500 to-emerald-500 text-white rounded-xl font-medium hover:opacity-90 transition-all disabled:opacity-50",children:[h?a.jsx(k.Z,{className:"w-5 h-5 animate-spin"}):d?a.jsx(N.Z,{className:"w-5 h-5"}):a.jsx(w.Z,{className:"w-5 h-5"}),h?"Getting location...":d?"Location set":"Enable Location"]}):"banner"!==r||p||d?"modal"===r&&i?(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:j}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm bg-white rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom sm:zoom-in-95 duration-300",children:[a.jsx("button",{onClick:j,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10",children:a.jsx(g.Z,{className:"w-5 h-5 text-gray-500"})}),(0,a.jsxs)("div",{className:"pt-8 pb-4 px-6 text-center bg-gradient-to-br from-sky-50 to-emerald-50",children:[a.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-sky-500 to-emerald-500 rounded-3xl flex items-center justify-center mb-4 shadow-lg shadow-sky-500/30",children:a.jsx(v.Z,{className:"w-10 h-10 text-white"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Enable Location"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Allow location access to find nearby doctors and get accurate wait times"})]}),(0,a.jsxs)("div",{className:"px-6 py-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(w.Z,{className:"w-5 h-5 text-sky-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 text-sm",children:"Find Nearby Hospitals"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Discover healthcare facilities near you"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(v.Z,{className:"w-5 h-5 text-emerald-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 text-sm",children:"Get Directions"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Navigate easily to your appointment"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(Z.Z,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 text-sm",children:"Your Privacy Matters"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Location is only used while using the app"})]})]})]}),u&&(0,a.jsxs)("div",{className:"mx-6 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2",children:[a.jsx(S.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-600",children:u})]}),(0,a.jsxs)("div",{className:"p-6 space-y-3",children:[a.jsx("button",{onClick:f,disabled:h,className:"w-full py-3.5 bg-gradient-to-r from-sky-500 to-emerald-500 text-white font-semibold rounded-xl hover:opacity-90 transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg shadow-sky-500/25",children:h?(0,a.jsxs)(a.Fragment,{children:[a.jsx(k.Z,{className:"w-5 h-5 animate-spin"}),"Getting Location..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(w.Z,{className:"w-5 h-5"}),"Enable Location"]})}),a.jsx("button",{onClick:j,className:"w-full py-3 text-gray-500 font-medium hover:text-gray-700 transition-colors text-sm",children:"Not Now"})]})]})]}):null:a.jsx("div",{className:"bg-gradient-to-r from-sky-500 to-emerald-500 text-white px-4 py-3",children:(0,a.jsxs)("div",{className:"container mx-auto flex items-center justify-between gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(w.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Enable location to find nearby doctors and hospitals"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:f,disabled:h,className:"px-4 py-1.5 bg-white text-sky-600 rounded-lg text-sm font-semibold hover:bg-sky-50 transition-colors disabled:opacity-50",children:h?"Getting...":"Enable"}),a.jsx("button",{onClick:j,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(g.Z,{className:"w-4 h-4"})})]})]})}):null}function H({children:e}){let t=(0,r.useRouter)(),s=(0,r.usePathname)(),{user:k,logout:N,isAuthenticated:w,isHydrated:v}=(0,j.t)(),[Z,S]=(0,n.useState)("light"),[L,P]=(0,n.useState)(!1),C=[{href:"/patient",icon:l.Z,label:"Home"},{href:"/patient/discover",icon:o.Z,label:"Find Doctors"},{href:"/patient/appointments",icon:c.Z,label:"Appointments"},{href:"/patient/profile",icon:d.Z,label:"Profile"},{href:"/patient/subscription",icon:m.Z,label:"Subscription"},{href:"/patient/health-content",icon:x.Z,label:"Health Tips"},{href:"/patient/support",icon:h.Z,label:"Support"}];return v?w&&k?.role==="patient"?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[a.jsx("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white dark:bg-neutral-800 border-b border-gray-200 dark:border-neutral-700 z-50 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-lg flex items-center justify-center",children:a.jsx(u.Z,{className:"w-5 h-5 text-white heartbeat",fill:"white"})}),a.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-sky-600 to-cyan-600 bg-clip-text text-transparent",children:"SANGMAN"})]}),a.jsx("button",{onClick:()=>P(!L),className:"p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-700",children:L?a.jsx(g.Z,{className:"w-6 h-6"}):a.jsx(p.Z,{className:"w-6 h-6"})})]})}),L&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>P(!1)}),(0,a.jsxs)("aside",{className:`fixed left-0 top-0 h-full w-64 bg-white dark:bg-neutral-800 border-r border-gray-200 dark:border-neutral-700 z-50 transform transition-transform lg:translate-x-0 ${L?"translate-x-0":"-translate-x-full"}`,children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-neutral-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-xl flex items-center justify-center",children:a.jsx(u.Z,{className:"w-6 h-6 text-white heartbeat",fill:"white"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-sky-600 to-cyan-600 bg-clip-text text-transparent",children:"SANGMAN"})]})}),a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-neutral-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-sky-100 dark:bg-sky-900 rounded-full flex items-center justify-center",children:a.jsx(d.Z,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:k?.name||"Patient"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k?.email||"patient@sangman.com"})]})]})}),a.jsx("nav",{className:"p-4 space-y-1",children:C.map(e=>{let t=e.icon,r=s===e.href||"/patient"!==e.href&&s.startsWith(e.href);return(0,a.jsxs)(i.default,{href:e.href,onClick:()=>P(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${r?"bg-gradient-to-r from-sky-500 to-cyan-500 text-white shadow-lg shadow-sky-500/30":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-700"}`,children:[a.jsx(t,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:e.label})]},e.href)})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-neutral-700",children:[(0,a.jsxs)("button",{onClick:()=>{let e="light"===Z?"dark":"light";S(e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},className:"flex items-center gap-3 px-4 py-2 rounded-xl text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-700 w-full mb-2",children:["dark"===Z?a.jsx(y.Z,{className:"w-5 h-5"}):a.jsx(b.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"dark"===Z?"Light Mode":"Dark Mode"})]}),(0,a.jsxs)("button",{onClick:()=>{N(),t.push("/auth/login?role=patient")},className:"flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 w-full",children:[a.jsx(f.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),a.jsx("main",{className:"lg:ml-64 pt-16 lg:pt-0 min-h-screen",children:e}),a.jsx(z,{showOnMount:!0,variant:"modal",onSuccess:e=>{console.log("Location granted:",e)}})]}):null:a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-cyan-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(u.Z,{className:"w-8 h-8 text-white heartbeat"})}),a.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})}},5392:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var a=s(4978),r=s(1460);let n=(0,a.Ue)()((0,r.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,isHydrated:!1,login:(t,s)=>{e({user:t,token:s,isAuthenticated:!0})},logout:()=>{e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null})),setHydrated:()=>e({isHydrated:!0})}),{name:"sangman-auth",storage:(0,r.FL)(()=>({getItem:()=>null,setItem:()=>{},removeItem:()=>{}})),onRehydrateStorage:()=>e=>{e&&e.setHydrated()}}))},3726:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\patient\error.tsx#default`)},468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\patient\layout.tsx#default`)},744:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5023),r=s(1649);function n(){return a.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(r.Z,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})})}}};