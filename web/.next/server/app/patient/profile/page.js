(()=>{var e={};e.id=461,e.ids=[461],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1445:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>o,routeModule:()=>m,tree:()=>i}),t(2915),t(468),t(3726),t(744),t(1950),t(5683),t(8665),t(4590);var a=t(7105),l=t(5265),s=t(1695),n=t(4665),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let i=["",{children:["patient",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2915)),"C:\\Users\\Sangman\\web\\app\\patient\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,468)),"C:\\Users\\Sangman\\web\\app\\patient\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,3726)),"C:\\Users\\Sangman\\web\\app\\patient\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,744)),"C:\\Users\\Sangman\\web\\app\\patient\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1950)),"C:\\Users\\Sangman\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,5683)),"C:\\Users\\Sangman\\web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,8665)),"C:\\Users\\Sangman\\web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,4590)),"C:\\Users\\Sangman\\web\\app\\not-found.tsx"]}],o=["C:\\Users\\Sangman\\web\\app\\patient\\profile\\page.tsx"],c="/patient/profile/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/patient/profile/page",pathname:"/patient/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},8326:(e,r,t)=>{Promise.resolve().then(t.bind(t,2654))},8408:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1963:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3789:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9587:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},2109:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},2359:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},2188:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2412:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},4342:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},7657:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(4516).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2654:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>R});var a=t(9899),l=t(5507),s=t(4516);let n=(0,s.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var d=t(856),i=t(1614),o=t(8408),c=t(7866),u=t(8776),m=t(2188),x=t(3818),h=t(9587);let g=(0,s.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var b=t(8449),p=t(5392),y=t(5950),f=t(832),v=t(8668);let j=(0,s.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),k=(0,s.Z)("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);var N=t(4342),w=t(4995),D=t(8514),C=t(3789);let S=[{value:"id_proof",label:"ID Proof (Aadhaar/PAN)"},{value:"medical_report",label:"Medical Report"},{value:"prescription",label:"Prescription"},{value:"insurance",label:"Insurance Document"},{value:"other",label:"Other Document"}];function M({documents:e,onUpload:r,onRemove:t,maxFiles:s=10,maxSizeMB:n=5,acceptedTypes:d=["image/*","application/pdf",".doc",".docx"],label:i="Upload Documents",hint:o="Upload medical records, prescriptions, or ID proofs"}){let[c,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)("medical_report"),[g,p]=(0,l.useState)(null),[y,f]=(0,l.useState)(!1),v=(0,l.useRef)(null),M=async t=>{if(p(null),e.length+t.length>s){p(`Maximum ${s} files allowed`);return}for(let e of t){if(e.size>1048576*n){p(`File ${e.name} exceeds ${n}MB limit`);continue}f(!0),await new Promise(e=>setTimeout(e,500));let t=URL.createObjectURL(e);r({name:e.name,type:m,url:t,size:e.size}),f(!1)}},P=e=>e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`,Z=e=>{let r=e.split(".").pop()?.toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(r||"")?a.jsx(j,{className:"w-5 h-5 text-sky-500"}):"pdf"===r?a.jsx(h.Z,{className:"w-5 h-5 text-red-500"}):a.jsx(k,{className:"w-5 h-5 text-gray-500"})},A=e=>S.find(r=>r.value===e)?.label||e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:i}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.length,"/",s," files"]})]}),o&&a.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:o}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(e=>a.jsx("button",{type:"button",onClick:()=>x(e.value),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${m===e.value?"bg-sky-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.label},e.value))}),(0,a.jsxs)("div",{onDragOver:e=>{e.preventDefault(),u(!0)},onDragLeave:e=>{e.preventDefault(),u(!1)},onDrop:e=>{e.preventDefault(),u(!1),M(Array.from(e.dataTransfer.files))},onClick:()=>v.current?.click(),className:`
          relative border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all
          ${c?"border-sky-500 bg-sky-50":"border-gray-200 hover:border-sky-300 hover:bg-gray-50"}
          ${y?"pointer-events-none opacity-50":""}
        `,children:[a.jsx("input",{ref:v,type:"file",multiple:!0,accept:d.join(","),onChange:e=>{M(Array.from(e.target.files||[])),v.current&&(v.current.value="")},className:"hidden"}),a.jsx("div",{className:"flex flex-col items-center gap-2",children:y?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 border-4 border-sky-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 bg-sky-100 rounded-xl flex items-center justify-center",children:a.jsx(N.Z,{className:"w-6 h-6 text-sky-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Drop files here or ",a.jsx("span",{className:"text-sky-600",children:"browse"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["PDF, Images, Documents up to ",n,"MB"]})]})]})})]}),g&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-xl",children:[a.jsx(w.Z,{className:"w-4 h-4 text-red-500"}),a.jsx("p",{className:"text-sm text-red-600",children:g})]}),e.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Uploaded Documents"}),a.jsx("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[Z(e.name),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 truncate max-w-[200px]",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:A(e.type)}),a.jsx("span",{children:"•"}),a.jsx("span",{children:P(e.size)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"View",children:a.jsx(D.Z,{className:"w-4 h-4 text-gray-600"})}),a.jsx("a",{href:e.url,download:e.name,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Download",children:a.jsx(C.Z,{className:"w-4 h-4 text-gray-600"})}),a.jsx("button",{type:"button",onClick:()=>t(e.id),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Remove",children:a.jsx(b.Z,{className:"w-4 h-4 text-red-500"})})]})]},e.id))})]})]})}var P=t(7657);let Z=(0,s.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),A=(0,s.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),L=(0,s.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var O=t(4978),B=t(1460);function $(e){let r=new Date,t=new Date(e),a=r.getFullYear()-t.getFullYear(),l=r.getMonth()-t.getMonth();return(l<0||0===l&&r.getDate()<t.getDate())&&a--,a}let E={MIN_ADULT_AGE:18,MAX_CHILD_AGE:16},F=()=>`member-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,G=(0,O.Ue)()((0,B.tJ)((e,r)=>({members:[],isHydrated:!1,addMember:r=>{let t={...r,id:F(),age:$(r.dateOfBirth),documents:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(e=>({members:[...e.members,t]})),t},updateMember:(r,t)=>{e(e=>({members:e.members.map(e=>e.id===r?{...e,...t,age:t.dateOfBirth?$(t.dateOfBirth):e.age,updatedAt:new Date().toISOString()}:e)}))},removeMember:r=>{e(e=>({members:e.members.filter(e=>e.id!==r)}))},getMembersByParent:e=>r().members.filter(r=>r.parentUserId===e),getMemberById:e=>r().members.find(r=>r.id===e),addDocumentToMember:(r,t)=>{let a={...t,id:`doc-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,uploadedAt:new Date().toISOString()};e(e=>({members:e.members.map(e=>e.id===r?{...e,documents:[...e.documents||[],a],updatedAt:new Date().toISOString()}:e)}))},removeDocumentFromMember:(r,t)=>{e(e=>({members:e.members.map(e=>e.id===r?{...e,documents:(e.documents||[]).filter(e=>e.id!==t),updatedAt:new Date().toISOString()}:e)}))}}),{name:"family-members-storage",onRehydrateStorage:()=>e=>{e&&(e.isHydrated=!0)}})),_=["A+","A-","B+","B-","AB+","AB-","O+","O-"],I=[{value:"son",label:"Son",icon:"\uD83D\uDC66"},{value:"daughter",label:"Daughter",icon:"\uD83D\uDC67"},{value:"spouse",label:"Spouse",icon:"\uD83D\uDC91"},{value:"parent",label:"Parent",icon:"\uD83D\uDC74"},{value:"other",label:"Other",icon:"\uD83D\uDC64"}];function U({isOpen:e,onClose:r,parentUserId:t,editMember:s}){let{addMember:n,updateMember:c}=G(),[u,m]=(0,l.useState)({name:s?.name||"",dateOfBirth:s?.dateOfBirth||"",gender:s?.gender||"male",relation:s?.relation||"son",bloodGroup:s?.bloodGroup||"",allergies:s?.allergies||"",medicalHistory:s?.medicalHistory||""}),[x,h]=(0,l.useState)({}),[g,p]=(0,l.useState)(!1),y=u.dateOfBirth?$(u.dateOfBirth):null,v=()=>{let e={};if(u.name.trim()?u.name.length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",u.dateOfBirth){let r=$(u.dateOfBirth);r<0&&(e.dateOfBirth="Invalid date of birth"),("son"===u.relation||"daughter"===u.relation)&&r>E.MAX_CHILD_AGE&&(e.dateOfBirth=`Children profiles are only allowed for dependents aged ${E.MAX_CHILD_AGE} or below`)}else e.dateOfBirth="Date of birth is required";return u.gender||(e.gender="Gender is required"),u.relation||(e.relation="Relationship is required"),h(e),0===Object.keys(e).length},j=async e=>{if(e.preventDefault(),v()){p(!0);try{await new Promise(e=>setTimeout(e,500)),s?(c(s.id,{name:u.name,dateOfBirth:u.dateOfBirth,gender:u.gender,relation:u.relation,bloodGroup:u.bloodGroup||void 0,allergies:u.allergies||void 0,medicalHistory:u.medicalHistory||void 0}),f.ZP.success("Profile updated successfully!")):(n({parentUserId:t,name:u.name,dateOfBirth:u.dateOfBirth,age:$(u.dateOfBirth),gender:u.gender,relation:u.relation,bloodGroup:u.bloodGroup||void 0,allergies:u.allergies||void 0,medicalHistory:u.medicalHistory||void 0}),f.ZP.success("Family member added successfully!")),r()}catch(e){f.ZP.error("Failed to save profile. Please try again.")}finally{p(!1)}}},k=(e,r)=>{m(t=>({...t,[e]:r})),x[e]&&h(r=>({...r,[e]:""}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),(0,a.jsxs)("div",{className:"relative w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden my-8",children:[(0,a.jsxs)("div",{className:"relative bg-gradient-to-r from-sky-500 to-emerald-500 px-6 py-6 text-white",children:[a.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(b.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(P.Z,{className:"w-7 h-7"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:s?"Edit Family Member":"Add Family Member"}),a.jsx("p",{className:"text-white/80 text-sm mt-0.5",children:s?"Update profile details":"Create a profile for your family member"})]})]})]}),(0,a.jsxs)("form",{onSubmit:j,className:"p-6 space-y-5 max-h-[60vh] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Relationship"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>k("relation",e.value),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${u.relation===e.value?"bg-sky-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.label})]},e.value))}),x.relation&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.relation})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:u.name,onChange:e=>k("name",e.target.value),className:`w-full pl-11 pr-4 py-3 rounded-xl border ${x.name?"border-red-300 bg-red-50":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500`,placeholder:"Enter full name"})]}),x.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(o.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"date",value:u.dateOfBirth,onChange:e=>k("dateOfBirth",e.target.value),max:new Date().toISOString().split("T")[0],className:`w-full pl-11 pr-4 py-3 rounded-xl border ${x.dateOfBirth?"border-red-300 bg-red-50":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500`})]}),null!==y&&(0,a.jsxs)("div",{className:`px-4 py-3 rounded-xl flex items-center gap-2 ${("son"===u.relation||"daughter"===u.relation)&&y>E.MAX_CHILD_AGE?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:[a.jsx("span",{className:"font-bold",children:y}),a.jsx("span",{className:"text-sm",children:"years"})]})]}),x.dateOfBirth&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.dateOfBirth}),("son"===u.relation||"daughter"===u.relation)&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsx(w.Z,{className:"w-3 h-3 inline mr-1"}),"Children profiles are for dependents aged ",E.MAX_CHILD_AGE," or below"]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),a.jsx("div",{className:"flex gap-2",children:[{value:"male",label:"Male",icon:"\uD83D\uDC68"},{value:"female",label:"Female",icon:"\uD83D\uDC69"},{value:"other",label:"Other",icon:"\uD83E\uDDD1"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>k("gender",e.value),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${u.gender===e.value?"bg-sky-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Blood Group (Optional)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(e=>a.jsx("button",{type:"button",onClick:()=>k("bloodGroup",u.bloodGroup===e?"":e),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${u.bloodGroup===e?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Known Allergies (Optional)"}),a.jsx("textarea",{value:u.allergies,onChange:e=>k("allergies",e.target.value),rows:2,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 resize-none",placeholder:"e.g., Peanuts, Penicillin, Dust"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Medical History (Optional)"}),a.jsx("textarea",{value:u.medicalHistory,onChange:e=>k("medicalHistory",e.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 resize-none",placeholder:"Any previous surgeries, chronic conditions, or ongoing treatments"})]})]}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex gap-3",children:[a.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 rounded-xl border border-gray-200 text-gray-600 font-semibold hover:bg-gray-100 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:j,disabled:g,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-sky-500 to-emerald-500 text-white font-semibold hover:opacity-90 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:g?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"w-5 h-5"}),s?"Update Profile":"Add Member"]})})]})]})]}):null}function H({parentUserId:e}){let{getMembersByParent:r,removeMember:t}=G(),[s,n]=(0,l.useState)(!1),[d,i]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),h=r(e),g=async e=>{if(confirm(`Are you sure you want to remove ${e.name}'s profile?`)){m(e.id);try{await new Promise(e=>setTimeout(e,300)),t(e.id),f.ZP.success(`${e.name}'s profile removed`)}finally{m(null)}}},b=e=>{i(e),n(!0)},p=e=>{switch(e){case"son":return"\uD83D\uDC66";case"daughter":return"\uD83D\uDC67";case"spouse":return"\uD83D\uDC91";case"parent":return"\uD83D\uDC74";default:return"\uD83D\uDC64"}},y=e=>{switch(e){case"male":return"from-blue-500 to-cyan-500";case"female":return"from-pink-500 to-rose-500";default:return"from-purple-500 to-indigo-500"}};return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sky-500 to-emerald-500 rounded-xl flex items-center justify-center",children:a.jsx(P.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Family Members"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage profiles for your dependents"})]})]}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-sky-500 to-emerald-500 text-white rounded-xl font-semibold text-sm hover:opacity-90 transition-all shadow-md",children:[a.jsx(Z,{className:"w-4 h-4"}),"Add Member"]})]})}),a.jsx("div",{className:"mx-6 mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(x.Z,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Child Profile Guidelines"}),(0,a.jsxs)("p",{className:"text-xs text-amber-700 mt-1",children:["You can create profiles for children under ",E.MAX_CHILD_AGE," years of age. These profiles allow you to book appointments and manage healthcare for your dependents."]})]})]})}),a.jsx("div",{className:"p-6",children:0===h.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(P.Z,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Family Members Added"}),a.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-md mx-auto",children:"Add profiles for your children or other dependents to manage their healthcare from your account."}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 text-white rounded-xl font-semibold hover:bg-sky-600 transition-colors",children:[a.jsx(Z,{className:"w-5 h-5"}),"Add Your First Family Member"]})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:h.map(e=>(0,a.jsxs)("div",{className:`relative p-4 rounded-xl border-2 border-gray-100 hover:border-sky-200 transition-all group ${u===e.id?"opacity-50 pointer-events-none":""}`,children:[(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>b(e),className:"p-2 bg-white border border-gray-200 rounded-lg hover:bg-sky-50 hover:border-sky-200 transition-colors",title:"Edit",children:a.jsx(A,{className:"w-4 h-4 text-gray-600"})}),a.jsx("button",{onClick:()=>g(e),className:"p-2 bg-white border border-gray-200 rounded-lg hover:bg-red-50 hover:border-red-200 transition-colors",title:"Delete",children:a.jsx(L,{className:"w-4 h-4 text-red-500"})})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${y(e.gender)} rounded-xl flex items-center justify-center flex-shrink-0`,children:a.jsx("span",{className:"text-2xl",children:p(e.relation)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-bold text-gray-900 truncate",children:e.name}),a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full capitalize",children:e.relation})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(o.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.age," years old"]})]}),e.bloodGroup&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(c.Z,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{children:e.bloodGroup})]})]}),e.allergies&&(0,a.jsxs)("p",{className:"mt-2 text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded-lg inline-block",children:["⚠️ Allergies: ",e.allergies]})]})]})]},e.id))})}),a.jsx(U,{isOpen:s,onClose:()=>{n(!1),i(null)},parentUserId:e,editMember:d})]})}var q=t(7577);let z=["A+","A-","B+","B-","AB+","AB-","O+","O-"],T=[{value:"",label:"Select Relationship"},{value:"father",label:"Father"},{value:"mother",label:"Mother"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"},{value:"grandfather",label:"Grandfather"},{value:"grandmother",label:"Grandmother"},{value:"uncle",label:"Uncle"},{value:"aunt",label:"Aunt"},{value:"nephew",label:"Nephew"},{value:"niece",label:"Niece"},{value:"cousin",label:"Cousin"},{value:"friend",label:"Friend"},{value:"colleague",label:"Colleague"},{value:"neighbor",label:"Neighbor"},{value:"guardian",label:"Guardian"},{value:"caretaker",label:"Caretaker"},{value:"other",label:"Other (specify below)"}];function R(){let{user:e,updateUser:r,isHydrated:t}=(0,p.t)(),[s,j]=(0,l.useState)(!1),[k,N]=(0,l.useState)("+91"),[w,D]=(0,l.useState)(""),[C,S]=(0,l.useState)(),[P,Z]=(0,l.useState)(!1),[A,L]=(0,l.useState)([]),[O,B]=(0,l.useState)(),[F,G]=(0,l.useState)(null),[_,I]=(0,l.useState)(""),[U,R]=(0,l.useState)(""),{register:V,handleSubmit:X,formState:{errors:Y},reset:K,setValue:Q,watch:J}=(0,y.cI)({defaultValues:{name:"",dateOfBirth:"",bloodGroup:"",gender:"male",allergies:"",medicalHistory:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:""}});J("dateOfBirth");let W=(r,t)=>{if(0===r.length)return S(void 0),!0;let a=(0,q.BO)(r,t);if(!a.valid)return S(a.error),!1;let l=`${t}${r}`,s=e?.phone||"",n=(0,q.BP)(s,l);return n.valid?(S(void 0),!0):(S(n.error),!1)},ee=async t=>{try{if(t.dateOfBirth&&$(t.dateOfBirth)<E.MIN_ADULT_AGE){B(`You must be at least ${E.MIN_ADULT_AGE} years old`),f.ZP.error("Minimum age requirement not met");return}if(w.length>0){let r=(0,q.BO)(w,k);if(!r.valid){S(r.error),f.ZP.error(r.error||"Invalid emergency phone number");return}let t=`${k}${w}`,a=e?.phone||"",l=(0,q.BP)(a,t);if(!l.valid){S(l.error),f.ZP.error(l.error||"Emergency phone must be different");return}}let a=w.length>0?`${k}${w}`:"",l="other"===_?U:T.find(e=>e.value===_)?.label||_;r({name:t.name,dateOfBirth:t.dateOfBirth,bloodGroup:t.bloodGroup,gender:t.gender,allergies:t.allergies,medicalHistory:t.medicalHistory,documents:A,emergencyContact:{name:t.emergencyContactName,phone:a,relation:l},updatedAt:new Date().toISOString()}),f.ZP.success("Profile updated successfully!"),Z(!0),j(!1),setTimeout(()=>Z(!1),3e3)}catch(r){let e=r?.message||"Failed to update profile";f.ZP.error(e)}};return t?a.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"My Profile"}),!s&&(0,a.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 transition-colors",children:[a.jsx(n,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Profile"})]})]}),P&&(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 mb-6 flex items-center gap-3",children:[a.jsx(d.Z,{className:"w-5 h-5 text-green-500"}),a.jsx("p",{className:"text-green-700 dark:text-green-300 font-medium",children:"Your profile has been saved successfully!"})]}),(0,a.jsxs)("form",{onSubmit:X(ee),children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700 mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-neutral-900 dark:text-neutral-100",children:[a.jsx(i.Z,{className:"w-5 h-5 text-primary-500"}),"Personal Information"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300",children:"Full Name"}),a.jsx("input",{...V("name",{required:"Name is required"}),disabled:!s,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                    text-neutral-900 dark:text-neutral-100
                    ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                    ${Y.name?"border-red-500":"border-neutral-300 dark:border-neutral-600"}
                    focus:outline-none focus:ring-2 focus:ring-primary-500`}),Y.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:Y.name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300 flex items-center gap-2",children:[a.jsx(o.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Date of Birth"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("input",{...V("dateOfBirth",{required:"Date of birth is required"}),type:"date",max:new Date().toISOString().split("T")[0],disabled:!s,className:`flex-1 px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                      text-neutral-900 dark:text-neutral-100
                      ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                      ${O||Y.dateOfBirth?"border-red-500":"border-neutral-300 dark:border-neutral-600"}
                      focus:outline-none focus:ring-2 focus:ring-primary-500`}),null!==F&&(0,a.jsxs)("div",{className:`px-4 py-3 rounded-lg flex items-center gap-2 font-semibold ${F<E.MIN_ADULT_AGE?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"}`,children:[F," yrs"]})]}),(O||Y.dateOfBirth)&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:O||Y.dateOfBirth?.message}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-neutral-500",children:["Minimum age: ",E.MIN_ADULT_AGE," years for independent account"]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300",children:"Gender"}),(0,a.jsxs)("select",{...V("gender"),disabled:!s,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                    text-neutral-900 dark:text-neutral-100
                    ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                    border-neutral-300 dark:border-neutral-600
                    focus:outline-none focus:ring-2 focus:ring-primary-500`,children:[a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300 flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{children:"Blood Group"})]}),(0,a.jsxs)("select",{...V("bloodGroup"),disabled:!s,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                    text-neutral-900 dark:text-neutral-100
                    ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                    border-neutral-300 dark:border-neutral-600
                    focus:outline-none focus:ring-2 focus:ring-primary-500`,children:[a.jsx("option",{value:"",children:"Select Blood Group"}),z.map(e=>a.jsx("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300 flex items-center gap-2",children:[a.jsx(u.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Email"})]}),a.jsx("input",{type:"email",value:e?.email||"",disabled:!0,className:"w-full px-4 py-3 rounded-lg border bg-neutral-100 dark:bg-neutral-700    text-neutral-900 dark:text-neutral-100 border-neutral-300 dark:border-neutral-600   cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Email cannot be changed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300 flex items-center gap-2",children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Phone"})]}),a.jsx("input",{type:"tel",value:e?.phone||"",disabled:!0,className:"w-full px-4 py-3 rounded-lg border bg-neutral-100 dark:bg-neutral-700    text-neutral-900 dark:text-neutral-100 border-neutral-300 dark:border-neutral-600   cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Phone cannot be changed"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300",children:"Known Allergies"}),a.jsx("input",{...V("allergies"),disabled:!s,placeholder:"e.g., Peanuts, Penicillin, Dust (separate with commas)",className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                  text-neutral-900 dark:text-neutral-100
                  ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                  border-neutral-300 dark:border-neutral-600
                  focus:outline-none focus:ring-2 focus:ring-primary-500`})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-neutral-900 dark:text-neutral-100",children:"Medical History"}),a.jsx("textarea",{...V("medicalHistory"),disabled:!s,rows:4,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                text-neutral-900 dark:text-neutral-100
                ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                border-neutral-300 dark:border-neutral-600
                focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Enter your medical history (allergies, chronic conditions, medications, etc.)"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700 mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-neutral-900 dark:text-neutral-100",children:[a.jsx(x.Z,{className:"w-5 h-5 text-amber-500"}),a.jsx("span",{children:"Emergency Contact"})]}),a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 mb-4",children:a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"⚠️ Emergency contact phone number must be different from your registered phone number."})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300",children:"Contact Name"}),a.jsx("input",{...V("emergencyContactName",{required:"Emergency contact name is required"}),disabled:!s,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                    text-neutral-900 dark:text-neutral-100
                    ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                    ${Y.emergencyContactName?"border-red-500":"border-neutral-300 dark:border-neutral-600"}
                    focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"e.g., John Doe"}),Y.emergencyContactName&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:Y.emergencyContactName.message})]}),a.jsx("div",{children:a.jsx(v.Z,{label:"Emergency Phone Number",countryCode:k,onCountryCodeChange:e=>{N(e),W(w,e)},onPhoneChange:e=>{D(e),Q("emergencyContactPhone",e),W(e,k)},value:w,error:C,disabled:!s})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300",children:"Relationship"}),a.jsx("select",{value:_,onChange:e=>{I(e.target.value),"other"!==e.target.value&&R("")},disabled:!s,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                    text-neutral-900 dark:text-neutral-100
                    ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                    border-neutral-300 dark:border-neutral-600
                    focus:outline-none focus:ring-2 focus:ring-primary-500`,children:T.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),"other"===_&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300",children:"Specify Relationship"}),a.jsx("input",{type:"text",value:U,onChange:e=>R(e.target.value),disabled:!s,className:`w-full px-4 py-3 rounded-lg border bg-white dark:bg-neutral-800 
                      text-neutral-900 dark:text-neutral-100
                      ${s?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}
                      border-neutral-300 dark:border-neutral-600
                      focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"e.g., Neighbor, Caregiver, Friend's relative"}),a.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Enter the relationship if the person is not a family member"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700 mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-neutral-900 dark:text-neutral-100",children:[a.jsx(h.Z,{className:"w-5 h-5 text-sky-500"}),a.jsx("span",{children:"My Documents"})]}),a.jsx(M,{documents:A,onUpload:e=>{let r={...e,id:`doc-${Date.now()}`,uploadedAt:new Date().toISOString()};L(e=>[...e,r])},onRemove:e=>{L(r=>r.filter(r=>r.id!==e))},label:"Upload Medical Documents",hint:"Upload medical reports, prescriptions, ID proofs, or insurance documents"})]}),s&&(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-6 py-3 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 transition-colors",children:[a.jsx(g,{className:"w-4 h-4"}),"Save Changes"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{if(j(!1),e){let r=e?.emergencyContact||{};K({name:e?.name||"",dateOfBirth:e?.dateOfBirth||"",bloodGroup:e?.bloodGroup||"",gender:e?.gender||"male",allergies:e?.allergies||"",medicalHistory:e?.medicalHistory||"",emergencyContactName:r?.name||"",emergencyContactPhone:r?.phone||"",emergencyContactRelation:r?.relation||""}),e?.documents&&L(e.documents),r?.relation?T.some(e=>e.value===r.relation.toLowerCase())?(I(r.relation.toLowerCase()),R("")):(I("other"),R(r.relation)):(I(""),R(""))}S(void 0),B(void 0)},className:"flex items-center gap-2 px-6 py-3 border border-neutral-300 dark:border-neutral-600 text-neutral-700 dark:text-neutral-300 rounded-lg font-medium hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[a.jsx(b.Z,{className:"w-4 h-4"}),"Cancel"]})]})]}),e?.id&&a.jsx("div",{className:"mt-8",children:a.jsx(H,{parentUserId:e.id})})]})}):a.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading profile..."})]})})}},8668:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(9899),l=t(5507),s=t(1963),n=t(2188),d=t(7577);let i=(0,l.forwardRef)(({label:e,value:r="",error:t,countryCode:i,onCountryCodeChange:o,onPhoneChange:c,disabled:u},m)=>{let[x,h]=(0,l.useState)(!1),[g,b]=(0,l.useState)(r),[p,y]=(0,l.useState)(),f=d.Qd.find(e=>e.code===i)||d.Qd[0];(0,l.useEffect)(()=>{b(r)},[r]);let v=e=>{o(e.code),h(!1),g.length>0&&y((0,d.BO)(g,e.code).error)},j=t||p;return(0,a.jsxs)("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:e}),(0,a.jsxs)("div",{className:"relative flex",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>!u&&h(!x),disabled:u,className:`flex items-center gap-1 px-3 py-3 rounded-l-lg border bg-gray-50 dark:bg-neutral-700 
                text-sm font-medium min-w-[90px] justify-between
                ${u?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-neutral-600"}
                ${j?"border-red-500 dark:border-red-600":"border-gray-300 dark:border-neutral-600 border-r-0"}`,children:[a.jsx("span",{className:"text-lg mr-1",children:f.flag}),a.jsx("span",{className:"text-neutral-700 dark:text-neutral-200",children:f.code}),a.jsx(s.Z,{className:"w-4 h-4 text-gray-500"})]}),x&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),a.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white dark:bg-neutral-800 border border-gray-200    dark:border-neutral-600 rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto",children:d.Qd.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>v(e),className:`w-full flex items-center gap-3 px-3 py-2.5 text-left hover:bg-gray-100 
                        dark:hover:bg-neutral-700 text-sm transition-colors
                        ${e.code===i?"bg-primary-50 dark:bg-primary-900/30":""}`,children:[a.jsx("span",{className:"text-lg",children:e.flag}),a.jsx("span",{className:"flex-1 text-neutral-900 dark:text-neutral-100",children:e.country}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e.code})]},e.code))})]})]}),(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(n.Z,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{ref:m,type:"tel",value:g,onChange:e=>{let r=e.target.value.replace(/\D/g,"");b(r),c(r),r.length>0?y((0,d.BO)(r,i).error):y(void 0)},disabled:u,placeholder:`${f.minLength} digits`,maxLength:f.maxLength+5,className:`w-full rounded-r-lg border bg-white dark:bg-neutral-800 py-3 pl-10 pr-4 text-sm
                text-neutral-900 dark:text-neutral-100
                focus:outline-none focus:ring-2 transition-all
                ${u?"opacity-50 cursor-not-allowed bg-gray-100":""}
                ${j?"border-red-500 focus:ring-red-400 dark:border-red-600":"border-gray-300 dark:border-neutral-600 focus:ring-primary-500 focus:border-transparent"}`})]})]}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Phone number should be ",f.minLength===f.maxLength?`${f.minLength} digits`:`${f.minLength}-${f.maxLength} digits`," for ",f.country]}),j&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:j})]})});i.displayName="PhoneInput";let o=i},7577:(e,r,t)=>{"use strict";t.d(r,{BO:()=>l,BP:()=>s,Qd:()=>a,f0:()=>n});let a=[{code:"+91",country:"India",minLength:10,maxLength:10,flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"+1",country:"USA/Canada",minLength:10,maxLength:10,flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"+44",country:"UK",minLength:10,maxLength:10,flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"+971",country:"UAE",minLength:9,maxLength:9,flag:"\uD83C\uDDE6\uD83C\uDDEA"},{code:"+966",country:"Saudi Arabia",minLength:9,maxLength:9,flag:"\uD83C\uDDF8\uD83C\uDDE6"},{code:"+65",country:"Singapore",minLength:8,maxLength:8,flag:"\uD83C\uDDF8\uD83C\uDDEC"},{code:"+61",country:"Australia",minLength:9,maxLength:9,flag:"\uD83C\uDDE6\uD83C\uDDFA"},{code:"+49",country:"Germany",minLength:10,maxLength:11,flag:"\uD83C\uDDE9\uD83C\uDDEA"},{code:"+33",country:"France",minLength:9,maxLength:9,flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"+81",country:"Japan",minLength:10,maxLength:10,flag:"\uD83C\uDDEF\uD83C\uDDF5"},{code:"+86",country:"China",minLength:11,maxLength:11,flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"+977",country:"Nepal",minLength:10,maxLength:10,flag:"\uD83C\uDDF3\uD83C\uDDF5"},{code:"+880",country:"Bangladesh",minLength:10,maxLength:10,flag:"\uD83C\uDDE7\uD83C\uDDE9"},{code:"+92",country:"Pakistan",minLength:10,maxLength:10,flag:"\uD83C\uDDF5\uD83C\uDDF0"},{code:"+94",country:"Sri Lanka",minLength:9,maxLength:9,flag:"\uD83C\uDDF1\uD83C\uDDF0"}];function l(e,r){let t=a.find(e=>e.code===r);if(!t)return{valid:!1,error:"Invalid country code"};let l=e.replace(/\D/g,"");return l.length<t.minLength?{valid:!1,error:`Phone number must be at least ${t.minLength} digits for ${t.country}`}:l.length>t.maxLength?{valid:!1,error:`Phone number must be at most ${t.maxLength} digits for ${t.country}`}:/^\d+$/.test(l)?{valid:!0}:{valid:!1,error:"Phone number should only contain digits"}}function s(e,r){return e.replace(/\D/g,"")===r.replace(/\D/g,"")?{valid:!1,error:"Emergency contact phone must be different from your phone number"}:{valid:!0}}function n(e,r){let t=e.replace(/\D/g,"");return`${r}${t}`}},2915:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\patient\profile\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[165,206,429,413],()=>t(1445));module.exports=a})();