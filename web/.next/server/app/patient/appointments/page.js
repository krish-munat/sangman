(()=>{var e={};e.id=723,e.ids=[723],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7994:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.Z,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>o}),a(9344),a(468),a(3726),a(744),a(1950),a(5683),a(8665),a(4590);var r=a(7105),n=a(5265),s=a(1695),i=a(4665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let o=["",{children:["patient",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9344)),"C:\\Users\\Sangman\\web\\app\\patient\\appointments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,468)),"C:\\Users\\Sangman\\web\\app\\patient\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,3726)),"C:\\Users\\Sangman\\web\\app\\patient\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,744)),"C:\\Users\\Sangman\\web\\app\\patient\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1950)),"C:\\Users\\Sangman\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,5683)),"C:\\Users\\Sangman\\web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,8665)),"C:\\Users\\Sangman\\web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,4590)),"C:\\Users\\Sangman\\web\\app\\not-found.tsx"]}],d=["C:\\Users\\Sangman\\web\\app\\patient\\appointments\\page.tsx"],c="/patient/appointments/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/patient/appointments/page",pathname:"/patient/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1442:(e,t,a)=>{Promise.resolve().then(a.bind(a,7727))},856:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(4516).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(4516).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7866:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(4516).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3776:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(4516).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8197:(e,t,a)=>{"use strict";a.d(t,{fr:()=>r});let r=["General Medicine","Cardiology","Dermatology","Orthopedics","Pediatrics","Gynecology","Neurology","Psychiatry","Ophthalmology","ENT","Dentistry","Oncology","Urology","Gastroenterology","Endocrinology"]},7727:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(9899),n=a(5507),s=a(6942),i=a(8408),l=a(4995),o=a(2070),d=a(433),c=a(3776),m=a(5392),p=a(8811),x=a(2139),u=a(832);function g(){let{user:e}=(0,m.t)(),{appointments:t,getAppointmentsByPatient:a,cancelAppointment:g,isHydrated:h}=(0,p.O)(),[y,b]=(0,n.useState)([]),[f,j]=(0,n.useState)("all"),k=y.filter(e=>"all"===f||("upcoming"===f?new Date(`${e.date}T${e.timeSlot.start}`)>new Date&&"completed"!==e.status&&"cancelled"!==e.status:"past"===f?new Date(`${e.date}T${e.timeSlot.start}`)<new Date:"completed"!==f||"completed"===e.status)),w=async e=>{try{e.startsWith("demo-")?b(t=>t.map(t=>t.id===e?{...t,status:"cancelled"}:t)):g(e),u.ZP.success("Appointment cancelled successfully")}catch(t){let e=t?.message||"Failed to cancel appointment";u.ZP.error(e)}},v=e=>{try{(0,u.ZP)("Review feature coming soon",{icon:"ℹ️",style:{background:"#3b82f6",color:"#fff"}})}catch(t){let e=t?.message||"Failed to open review";u.ZP.error(e)}},N=e=>{switch(e){case"confirmed":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"completed":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"cancelled":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"rejected":return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-700"}};return h?r.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"My Appointments"}),(0,r.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[k.length," appointment",1!==k.length?"s":""]})]}),r.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["all","upcoming","past","completed"].map(e=>r.jsx("button",{onClick:()=>j(e),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${f===e?"bg-primary-500 text-white":"bg-white dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),0===k.length?(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-12 text-center border border-neutral-200 dark:border-neutral-700",children:[r.jsx(i.Z,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"No appointments found"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:"all"===f?"You haven't booked any appointments yet.":`No ${f} appointments to show.`}),r.jsx("a",{href:"/patient/discover",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 transition-colors",children:"Find Doctors"})]}):r.jsx("div",{className:"space-y-4",children:k.map(e=>r.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700",children:r.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:e.doctor?.name}),r.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.doctor?.specializations.join(", ")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["emergency"===e.type&&(0,r.jsxs)("span",{className:"px-2 py-1 bg-emergency-100 text-emergency-700 dark:bg-emergency-900/30 dark:text-emergency-400 text-xs rounded-full flex items-center gap-1",children:[r.jsx(l.Z,{className:"w-3 h-3"}),"Emergency"]}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${N(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600 dark:text-neutral-400",children:[r.jsx(i.Z,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{children:(0,x.p6)(e.date,"EEEE, MMMM d, yyyy")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600 dark:text-neutral-400",children:[r.jsx(o.Z,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{children:(0,x.KL)(e.timeSlot.start,e.timeSlot.end)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600 dark:text-neutral-400",children:[r.jsx(d.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,r.jsxs)("span",{children:[e.doctor?.clinicAddress.street,","," ",e.doctor?.clinicAddress.city]})]})]}),e.otp&&!e.otpVerified&&"confirmed"===e.status&&(0,r.jsxs)("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-4 rounded-xl mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Your OTP for clinic visit:"}),r.jsx("p",{className:"text-3xl font-bold text-primary-500",children:e.otp}),r.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:"Show this to the doctor at the clinic"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Amount Paid:"}),r.jsx("span",{className:"ml-2 font-semibold text-neutral-900 dark:text-neutral-100",children:(0,x.xG)(e.payment.totalAmount)}),e.payment.transactionId&&(0,r.jsxs)("span",{className:"ml-2 text-xs text-neutral-500",children:["(TXN: ",e.payment.transactionId,")"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:["confirmed"===e.status&&r.jsx("button",{onClick:()=>w(e.id),className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Cancel"}),"completed"===e.status&&(0,r.jsxs)("button",{onClick:()=>v(e.id),className:"px-4 py-2 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-600 transition-colors flex items-center gap-2",children:[r.jsx(c.Z,{className:"w-4 h-4"}),"Review"]})]})]})]})})},e.id))})]})}):r.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(s.Z,{className:"w-8 h-8 animate-spin text-primary-500 mx-auto mb-4"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading appointments..."})]})})}},8811:(e,t,a)=>{"use strict";a.d(t,{O:()=>i});var r=a(4978),n=a(1460),s=a(4576);let i=(0,r.Ue)()((0,n.tJ)((e,t)=>({appointments:[],isHydrated:!1,addAppointment:t=>{let a={...t,id:"apt-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),otp:(0,s.P)(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(e=>({appointments:[...e.appointments,a]})),a},updateAppointment:(t,a)=>{e(e=>({appointments:e.appointments.map(e=>e.id===t?{...e,...a,updatedAt:new Date().toISOString()}:e)}))},cancelAppointment:t=>{e(e=>({appointments:e.appointments.map(e=>e.id===t?{...e,status:"cancelled",updatedAt:new Date().toISOString()}:e)}))},getAppointmentsByPatient:e=>t().appointments.filter(t=>t.patientId===e),getAppointmentsByDoctor:e=>t().appointments.filter(t=>t.doctorId===e),getAppointmentById:e=>t().appointments.find(t=>t.id===e),setHydrated:()=>e({isHydrated:!0})}),{name:"sangman-appointments",storage:(0,n.FL)(()=>({getItem:()=>null,setItem:()=>{},removeItem:()=>{}})),onRehydrateStorage:()=>e=>{e&&e.setHydrated()}}))},4576:(e,t,a)=>{"use strict";function r(){return Math.floor(1e5+9e5*Math.random()).toString()}a.d(t,{P:()=>r}),a(8197)},2139:(e,t,a)=>{"use strict";a.d(t,{KL:()=>i,WN:()=>l,p6:()=>s,xG:()=>n});var r=a(3112);function n(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function s(e,t="PPP"){return(0,r.Z)(new Date(e),t)}function i(e,t){let a=e=>{let[t,a]=e.split(":").map(Number);return`${t%12||12}:${a.toString().padStart(2,"0")} ${t>=12?"PM":"AM"}`};return`${a(e)} - ${a(t)}`}function l(e){return e<1e3?`${Math.round(e)} m`:`${(e/1e3).toFixed(1)} km`}},9344:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\patient\appointments\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[165,775,429,413],()=>a(7994));module.exports=r})();