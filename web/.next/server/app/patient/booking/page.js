(()=>{var e={};e.id=608,e.ids=[608],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1561:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>o,routeModule:()=>m,tree:()=>d}),r(6714),r(468),r(3726),r(744),r(1950),r(5683),r(8665),r(4590);var a=r(7105),s=r(5265),n=r(1695),l=r(4665),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["patient",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6714)),"C:\\Users\\Sangman\\web\\app\\patient\\booking\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,468)),"C:\\Users\\Sangman\\web\\app\\patient\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,3726)),"C:\\Users\\Sangman\\web\\app\\patient\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,744)),"C:\\Users\\Sangman\\web\\app\\patient\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1950)),"C:\\Users\\Sangman\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,5683)),"C:\\Users\\Sangman\\web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,8665)),"C:\\Users\\Sangman\\web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,4590)),"C:\\Users\\Sangman\\web\\app\\not-found.tsx"]}],o=["C:\\Users\\Sangman\\web\\app\\patient\\booking\\page.tsx"],c="/patient/booking/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/patient/booking/page",pathname:"/patient/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7228:(e,t,r)=>{Promise.resolve().then(r.bind(r,125))},856:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(4516).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2070:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(4516).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3956:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(4516).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},7866:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(4516).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},1286:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(4516).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},8197:(e,t,r)=>{"use strict";r.d(t,{fr:()=>a});let a=["General Medicine","Cardiology","Dermatology","Orthopedics","Pediatrics","Gynecology","Neurology","Psychiatry","Ophthalmology","ENT","Dentistry","Oncology","Urology","Gastroenterology","Endocrinology"]},125:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(9899),s=r(5507),n=r(6153),l=r(3227),i=r(4995),d=r(8408),o=r(2070),c=r(3956),u=r(856),m=r(5392),x=r(8811);r(4576);var p=r(2139),h=r(37),b=r(8449),g=r(1286),y=r(4516);let f=(0,y.Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),j=(0,y.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var k=r(832);let N="9179970366@upi";function v({isOpen:e,onClose:t,onSuccess:r,amount:n,doctorName:i,appointmentDate:d,appointmentTime:o}){let[m,x]=(0,s.useState)("upi"),[h,y]=(0,s.useState)(!1),[v,w]=(0,s.useState)("select"),[P,S]=(0,s.useState)(""),[C,D]=(0,s.useState)(""),[M,Z]=(0,s.useState)(""),[A,I]=(0,s.useState)(""),[E,U]=(0,s.useState)(""),[G,T]=(0,s.useState)(""),$=e=>{let t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),r=t&&t[0]||"",a=[];for(let e=0,t=r.length;e<t;e+=4)a.push(r.substring(e,e+4));return a.length?a.join(" "):e},O=e=>{let t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?t.substring(0,2)+"/"+t.substring(2,4):t},_=async()=>{y(!0),w("process"),await new Promise(e=>setTimeout(e,2e3)),S("TXN"+Date.now()+Math.random().toString(36).substr(2,6).toUpperCase()),w("success"),y(!1)};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white dark:bg-neutral-800 rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"success"===v?"Payment Successful!":"Complete Payment"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:a.jsx(b.Z,{className:"w-5 h-5 text-neutral-500"})})]}),"select"===v&&(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-900 p-4 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Appointment Summary"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-neutral-600 dark:text-neutral-400",children:[(0,a.jsxs)("p",{children:["Doctor: ",i]}),(0,a.jsxs)("p",{children:["Date: ",d]}),(0,a.jsxs)("p",{children:["Time: ",o]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-neutral-200 dark:border-neutral-700",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Total Amount"}),a.jsx("span",{className:"text-xl font-bold text-primary-500",children:(0,p.xG)(n)})]})})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Select Payment Method"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>x("upi"),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${"upi"===m?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300"}`,children:[a.jsx(g.Z,{className:`w-6 h-6 ${"upi"===m?"text-primary-500":"text-neutral-400"}`}),(0,a.jsxs)("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"UPI Payment"}),a.jsx("p",{className:"text-sm text-neutral-500",children:"Pay using any UPI app"})]})]}),(0,a.jsxs)("button",{onClick:()=>x("card"),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${"card"===m?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300"}`,children:[a.jsx(c.Z,{className:`w-6 h-6 ${"card"===m?"text-primary-500":"text-neutral-400"}`}),(0,a.jsxs)("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Credit/Debit Card"}),a.jsx("p",{className:"text-sm text-neutral-500",children:"Visa, Mastercard, RuPay"})]})]}),(0,a.jsxs)("button",{onClick:()=>x("wallet"),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${"wallet"===m?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300"}`,children:[a.jsx(f,{className:`w-6 h-6 ${"wallet"===m?"text-primary-500":"text-neutral-400"}`}),(0,a.jsxs)("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Wallet"}),a.jsx("p",{className:"text-sm text-neutral-500",children:"Paytm, PhonePe, Amazon Pay"})]})]})]})]}),"upi"===m&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"Pay to Merchant UPI ID:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 bg-white dark:bg-neutral-800 px-3 py-2 rounded-lg font-mono text-sm",children:N}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(N),k.ZP.success("UPI ID copied!")},className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:a.jsx(j,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Your UPI ID (for verification)"}),a.jsx("input",{type:"text",value:G,onChange:e=>T(e.target.value),placeholder:"yourname@upi",className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600    bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100   focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),"card"===m&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Card Number"}),a.jsx("input",{type:"text",value:C,onChange:e=>D($(e.target.value)),placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600    bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100   focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"text",value:M,onChange:e=>Z(O(e.target.value)),placeholder:"MM/YY",maxLength:5,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600    bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100   focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"CVV"}),a.jsx("input",{type:"password",value:A,onChange:e=>I(e.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"123",maxLength:4,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600    bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100   focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Cardholder Name"}),a.jsx("input",{type:"text",value:E,onChange:e=>U(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600    bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100   focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),"wallet"===m&&a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-xl",children:(0,a.jsxs)("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:["You will be redirected to your preferred wallet app to complete the payment of ",(0,p.xG)(n),"."]})}),(0,a.jsxs)("button",{onClick:()=>{if("card"===m){if(C.replace(/\s/g,"").length<16){k.ZP.error("Please enter a valid card number");return}if(M.length<5){k.ZP.error("Please enter a valid expiry date");return}if(A.length<3){k.ZP.error("Please enter a valid CVV");return}if(E.length<2){k.ZP.error("Please enter cardholder name");return}}else if("upi"===m&&G.length<5){k.ZP.error("Please enter a valid UPI ID");return}_()},className:"w-full bg-primary-500 text-white py-4 rounded-xl font-semibold    hover:bg-primary-600 transition-colors flex items-center justify-center gap-2",children:["Pay ",(0,p.xG)(n)]}),a.jsx("p",{className:"text-center text-xs text-neutral-500 dark:text-neutral-400",children:"\uD83D\uDD12 This is a demo payment. No actual transaction will occur."})]}),"process"===v&&(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx(l.Z,{className:"w-16 h-16 text-primary-500 animate-spin mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Processing Payment"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Please wait while we process your payment..."})]}),"success"===v&&(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(u.Z,{className:"w-12 h-12 text-green-500"})}),a.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Payment Successful!"}),(0,a.jsxs)("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4",children:["Your payment of ",(0,p.xG)(n)," has been received."]}),(0,a.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-900 p-4 rounded-xl mb-6",children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-1",children:"Transaction ID"}),a.jsx("p",{className:"font-mono font-semibold text-neutral-900 dark:text-neutral-100",children:P})]}),a.jsx("button",{onClick:()=>{r(P,m)},className:"w-full bg-primary-500 text-white py-4 rounded-xl font-semibold    hover:bg-primary-600 transition-colors",children:"Continue"})]})]})]}):null}function w(){let e=(0,n.useRouter)();(0,n.useSearchParams)().get("doctorId");let{user:t}=(0,m.t)(),{addAppointment:r}=(0,x.O)(),[b,g]=(0,s.useState)(null),[y,f]=(0,s.useState)(""),[j,N]=(0,s.useState)(null),[w,P]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),[D,M]=(0,s.useState)("date"),[Z,A]=(0,s.useState)(!1),[I,E]=(0,s.useState)(""),U=e=>{try{if(!(0,h.m2)(e)){k.ZP.error("Please select a future date");return}f(e),M("time")}catch(t){let e=(0,h.S3)(t,"Failed to select date");k.ZP.error(e)}},G=e=>{N(e),M("payment")};return b?(0,a.jsxs)("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100 mb-4",children:"Book Appointment"}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700",children:[a.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:b.name}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:b.specializations.join(", ")}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-500 mt-1",children:["\uD83D\uDCCD ",b.clinicAddress.street,", ",b.clinicAddress.city]})]})]}),a.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700 mb-6",children:(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w,onChange:e=>P(e.target.checked),className:"w-5 h-5 text-emergency-500 rounded focus:ring-emergency-500"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(i.Z,{className:"w-5 h-5 text-emergency-500"}),a.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Emergency Appointment"})]}),a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Higher fees apply for emergency bookings"})]})]})}),"date"===D&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-neutral-900 dark:text-neutral-100",children:[a.jsx(d.Z,{className:"w-5 h-5 text-primary-500"}),"Select Date"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:(()=>{let e=[],t=new Date;for(let r=1;r<=14;r++){let a=new Date(t);a.setDate(t.getDate()+r),e.push(a.toISOString().split("T")[0])}return e})().map(e=>(0,a.jsxs)("button",{onClick:()=>U(e),className:`p-4 rounded-lg border-2 transition-all text-center ${y===e?"border-primary-500 bg-primary-50 dark:bg-primary-900":"border-neutral-200 dark:border-neutral-700 hover:border-primary-300"}`,children:[a.jsx("div",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400",children:(0,p.p6)(e,"EEE")}),a.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:(0,p.p6)(e,"d")}),a.jsx("div",{className:"text-xs text-neutral-500",children:(0,p.p6)(e,"MMM")})]},e))})]}),"time"===D&&y&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2 text-neutral-900 dark:text-neutral-100",children:[a.jsx(o.Z,{className:"w-5 h-5 text-primary-500"}),"Select Time"]}),a.jsx("button",{onClick:()=>M("date"),className:"text-sm text-primary-500 hover:text-primary-600",children:"Change Date"})]}),a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:(0,p.p6)(y,"EEEE, MMMM d, yyyy")}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:b.availability.days.monday?.slots?.filter(e=>e.available).map((e,t)=>a.jsx("button",{onClick:()=>G(e),className:"p-4 rounded-lg border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 transition-all text-center text-neutral-900 dark:text-neutral-100 font-medium",children:p.KL(e.start,e.end)},t))})]}),"payment"===D&&S&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-neutral-900 dark:text-neutral-100",children:[a.jsx(c.Z,{className:"w-5 h-5 text-primary-500"}),"Payment Summary"]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Consultation Fee"}),a.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(0,p.xG)(S.consultationFee)})]}),S.emergencySurcharge&&S.emergencySurcharge>0&&(0,a.jsxs)("div",{className:"flex justify-between text-emergency-600",children:[a.jsx("span",{children:"Emergency Surcharge"}),(0,a.jsxs)("span",{className:"font-medium",children:["+",(0,p.xG)(S.emergencySurcharge)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Platform Fee (7%)"}),a.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(0,p.xG)(S.platformFee)})]}),S.subscriptionDiscount&&S.subscriptionDiscount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-success-600",children:[a.jsx("span",{children:"Subscription Discount"}),(0,a.jsxs)("span",{className:"font-medium",children:["-",(0,p.xG)(S.subscriptionDiscount)]})]}),(0,a.jsxs)("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-3 flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:"Total Amount"}),a.jsx("span",{className:"text-primary-500",children:(0,p.xG)(S.totalAmount)})]})]}),a.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-4 rounded-xl mb-6",children:a.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300",children:"\uD83D\uDCB3 Multiple payment options available: UPI, Credit/Debit Card, Wallet"})}),(0,a.jsxs)("button",{onClick:()=>{if(!y||!j||!S){k.ZP.error("Please complete all booking details");return}if(!t?.id){k.ZP.error("Please login to continue"),e.push("/auth/login?role=patient");return}if(!(0,h.m2)(y)){k.ZP.error("Please select a valid future date");return}A(!0)},className:"w-full bg-primary-500 text-white py-3 rounded-lg font-medium hover:bg-primary-600 transition-colors",children:["Pay ",(0,p.xG)(S.totalAmount)]})]}),"confirmation"===D&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-8 border border-neutral-200 dark:border-neutral-700 text-center",children:[a.jsx(u.Z,{className:"w-16 h-16 text-success-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Appointment Confirmed!"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:"Your appointment has been booked successfully."}),(0,a.jsxs)("div",{className:"bg-primary-50 dark:bg-primary-900 p-6 rounded-lg mb-6",children:[a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:"Your OTP for clinic visit:"}),a.jsx("p",{className:"text-4xl font-bold text-primary-500",children:I}),a.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Show this OTP to the doctor at the clinic"})]}),(0,a.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-900 p-4 rounded-lg mb-6 text-left",children:[a.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Appointment Details"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-neutral-600 dark:text-neutral-400",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Doctor:"})," ",b.name]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Date:"})," ",(0,p.p6)(y,"EEEE, MMMM d, yyyy")]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Time:"})," ",j&&(0,p.KL)(j.start,j.end)]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Type:"})," ",w?"Emergency":"Normal"]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Amount Paid:"})," ",S&&(0,p.xG)(S.totalAmount)]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[a.jsx("button",{onClick:()=>e.push("/patient/appointments"),className:"px-6 py-3 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 transition-colors",children:"View Appointments"}),a.jsx("button",{onClick:()=>e.push("/patient/discover"),className:"px-6 py-3 border border-neutral-300 dark:border-neutral-600 text-neutral-700 dark:text-neutral-300 rounded-lg font-medium hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Find More Doctors"})]})]})]}),Z&&S&&j&&a.jsx(v,{isOpen:Z,onClose:()=>A(!1),onSuccess:(e,a)=>{if(A(!1),b&&j&&S)try{let s=r({patientId:t?.id||"",doctorId:b.id,doctor:b,date:y,timeSlot:{...j,available:!1},type:w?"emergency":"normal",status:"confirmed",otpVerified:!1,payment:{...S,status:"completed",transactionId:e,paymentMethod:a}});E(s.otp||""),k.ZP.success("Appointment booked successfully!"),M("confirmation")}catch(t){let e=(0,h.S3)(t,"Failed to create appointment");k.ZP.error(e)}},amount:S.totalAmount,doctorName:b.name,appointmentDate:(0,p.p6)(y,"MMMM d, yyyy"),appointmentTime:(0,p.KL)(j.start,j.end)})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(l.Z,{className:"w-8 h-8 animate-spin text-primary-500 mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading doctor details..."})]})})}function P(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-slate-900",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(l.Z,{className:"w-12 h-12 animate-spin text-primary-500 mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading booking..."})]})})}function S(){return a.jsx(s.Suspense,{fallback:a.jsx(P,{}),children:a.jsx(w,{})})}},8811:(e,t,r)=>{"use strict";r.d(t,{O:()=>l});var a=r(4978),s=r(1460),n=r(4576);let l=(0,a.Ue)()((0,s.tJ)((e,t)=>({appointments:[],isHydrated:!1,addAppointment:t=>{let r={...t,id:"apt-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),otp:(0,n.P)(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(e=>({appointments:[...e.appointments,r]})),r},updateAppointment:(t,r)=>{e(e=>({appointments:e.appointments.map(e=>e.id===t?{...e,...r,updatedAt:new Date().toISOString()}:e)}))},cancelAppointment:t=>{e(e=>({appointments:e.appointments.map(e=>e.id===t?{...e,status:"cancelled",updatedAt:new Date().toISOString()}:e)}))},getAppointmentsByPatient:e=>t().appointments.filter(t=>t.patientId===e),getAppointmentsByDoctor:e=>t().appointments.filter(t=>t.doctorId===e),getAppointmentById:e=>t().appointments.find(t=>t.id===e),setHydrated:()=>e({isHydrated:!0})}),{name:"sangman-appointments",storage:(0,s.FL)(()=>({getItem:()=>null,setItem:()=>{},removeItem:()=>{}})),onRehydrateStorage:()=>e=>{e&&e.setHydrated()}}))},4576:(e,t,r)=>{"use strict";function a(){return Math.floor(1e5+9e5*Math.random()).toString()}r.d(t,{P:()=>a}),r(8197)},37:(e,t,r)=>{"use strict";r.d(t,{L$:()=>n,S3:()=>l,m2:()=>s});class a extends Error{constructor(e,t,r=500,s){super(e),this.code=t,this.statusCode=r,this.details=s,this.name="AppError",Object.setPrototypeOf(this,a.prototype)}}function s(e){let t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t>=r}function n(e,t={}){let{maxSize:r=10,allowedTypes:a=["image/jpeg","image/png","application/pdf"]}=t;return e.size/1048576>r?{valid:!1,error:`File size must be less than ${r}MB`}:a.includes(e.type)?{valid:!0}:{valid:!1,error:`File type not allowed. Allowed types: ${a.join(", ")}`}}function l(e,t){return t||function(e){if(e instanceof a)return e.message;if(e.response){let t=e.response.status,r=e.response.data;switch(t){case 400:return r?.message||"Invalid request. Please check your input.";case 401:return"Please login to continue.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 422:return r?.message||"Validation failed. Please check your input.";case 429:return"Too many requests. Please try again later.";case 500:return"Server error. Please try again later.";case 503:return"Service temporarily unavailable. Please try again later.";default:return r?.message||"An error occurred. Please try again."}}return e.request?"Unable to connect to server. Please check your internet connection.":"An unexpected error occurred. Please try again."}(e)}},2139:(e,t,r)=>{"use strict";r.d(t,{KL:()=>l,WN:()=>i,p6:()=>n,xG:()=>s});var a=r(3112);function s(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e,t="PPP"){return(0,a.Z)(new Date(e),t)}function l(e,t){let r=e=>{let[t,r]=e.split(":").map(Number);return`${t%12||12}:${r.toString().padStart(2,"0")} ${t>=12?"PM":"AM"}`};return`${r(e)} - ${r(t)}`}function i(e){return e<1e3?`${Math.round(e)} m`:`${(e/1e3).toFixed(1)} km`}},6714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\patient\booking\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[165,775,429,413],()=>r(1561));module.exports=a})();