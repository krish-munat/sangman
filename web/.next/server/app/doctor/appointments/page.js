(()=>{var e={};e.id=391,e.ids=[391],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8996:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.Z,__next_app__:()=>m,originalPathname:()=>o,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(3130),s(3735),s(6687),s(4630),s(1950),s(5683),s(8665),s(4590);var a=s(7105),r=s(5265),n=s(1695),i=s(4665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=["",{children:["doctor",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3130)),"C:\\Users\\Sangman\\web\\app\\doctor\\appointments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3735)),"C:\\Users\\Sangman\\web\\app\\doctor\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,6687)),"C:\\Users\\Sangman\\web\\app\\doctor\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,4630)),"C:\\Users\\Sangman\\web\\app\\doctor\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1950)),"C:\\Users\\Sangman\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,5683)),"C:\\Users\\Sangman\\web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,8665)),"C:\\Users\\Sangman\\web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,4590)),"C:\\Users\\Sangman\\web\\app\\not-found.tsx"]}],d=["C:\\Users\\Sangman\\web\\app\\doctor\\appointments\\page.tsx"],o="/doctor/appointments/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/doctor/appointments/page",pathname:"/doctor/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5368:(e,t,s)=>{Promise.resolve().then(s.bind(s,6382))},4995:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},856:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2070:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(4516).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6382:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(9899),r=s(5507),n=s(8408),i=s(4995),l=s(2070),c=s(1614),d=s(856),o=s(8449),m=s(5392),x=s(2139),p=s(832);function u(){let{user:e}=(0,m.t)(),[t,s]=(0,r.useState)([]),[u,h]=(0,r.useState)("all"),g=t.filter(e=>{if("all"===u)return!0;if("pending"===u)return"pending"===e.status;if("confirmed"===u)return"confirmed"===e.status;if("today"===u){let t=new Date().toISOString().split("T")[0];return e.date===t}return!0}),y=async e=>{try{s(t=>t.map(t=>t.id===e?{...t,status:"confirmed"}:t)),p.ZP.success("Appointment confirmed")}catch(t){let e=t?.message||"Failed to accept appointment";p.ZP.error(e)}},f=async e=>{try{s(t=>t.map(t=>t.id===e?{...t,status:"rejected"}:t)),p.ZP.success("Appointment rejected")}catch(t){let e=t?.message||"Failed to reject appointment";p.ZP.error(e)}},b=async(e,t)=>{try{s(t=>t.map(t=>t.id===e?{...t,otpVerified:!0}:t)),p.ZP.success("OTP verified. Treatment can begin.")}catch(t){let e=t?.message||"Failed to verify OTP";p.ZP.error(e)}};return a.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100 mb-6",children:"Appointments"}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:["all","pending","confirmed","today"].map(e=>a.jsx("button",{onClick:()=>h(e),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap ${u===e?"bg-primary-500 text-white":"bg-white dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),0===g.length?(0,a.jsxs)("div",{className:"card text-center py-12",children:[a.jsx(n.Z,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"No appointments found"})]}):a.jsx("div",{className:"space-y-4",children:g.map(e=>a.jsx("div",{className:"card",children:a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:e.patient?.name||"Patient"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Age: ",e.patient?.age," | ",e.patient?.gender]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:["emergency"===e.type&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-emergency-100 text-emergency-700 text-xs rounded flex items-center gap-1",children:[a.jsx(i.Z,{className:"w-3 h-3"}),"Emergency"]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded ${"confirmed"===e.status?"bg-success-100 text-success-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-neutral-100 text-neutral-700"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"icon-text-group text-sm text-neutral-600 dark:text-neutral-400",children:[a.jsx(n.Z,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:(0,x.p6)(e.date,"EEEE, MMMM d, yyyy")})]}),(0,a.jsxs)("div",{className:"icon-text-group text-sm text-neutral-600 dark:text-neutral-400",children:[a.jsx(l.Z,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:(0,x.KL)(e.timeSlot.start,e.timeSlot.end)})]}),(0,a.jsxs)("div",{className:"icon-text-group text-sm text-neutral-600 dark:text-neutral-400",children:[a.jsx(c.Z,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:e.patient?.phone})]})]}),e.otp&&!e.otpVerified&&(0,a.jsxs)("div",{className:"bg-primary-50 dark:bg-primary-900 p-4 rounded-lg mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"Patient OTP Verification"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Enter OTP",className:"input flex-1",maxLength:6}),a.jsx("button",{onClick:()=>b(e.id,"123456"),className:"btn-primary",children:"Verify"})]})]}),e.otpVerified&&(0,a.jsxs)("div",{className:"bg-success-50 dark:bg-success-900 p-3 rounded-lg mb-4 flex items-center gap-2",children:[a.jsx(d.Z,{className:"w-5 h-5 text-success-500"}),a.jsx("span",{className:"text-sm text-success-700 dark:text-success-300",children:"OTP Verified - Treatment can begin"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Consultation Fee:"}),a.jsx("span",{className:"ml-2 font-semibold text-neutral-900 dark:text-neutral-100",children:(0,x.xG)(e.payment.totalAmount)})]}),"pending"===e.status&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>f(e.id),className:"btn-outline text-sm",children:[a.jsx(o.Z,{className:"w-4 h-4 inline mr-1"}),"Reject"]}),(0,a.jsxs)("button",{onClick:()=>y(e.id),className:"btn-primary text-sm",children:[a.jsx(d.Z,{className:"w-4 h-4 inline mr-1"}),"Accept"]})]})]})]})})},e.id))})]})})}},2139:(e,t,s)=>{"use strict";s.d(t,{KL:()=>i,WN:()=>l,p6:()=>n,xG:()=>r});var a=s(3112);function r(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e,t="PPP"){return(0,a.Z)(new Date(e),t)}function i(e,t){let s=e=>{let[t,s]=e.split(":").map(Number);return`${t%12||12}:${s.toString().padStart(2,"0")} ${t>=12?"PM":"AM"}`};return`${s(e)} - ${s(t)}`}function l(e){return e<1e3?`${Math.round(e)} m`:`${(e/1e3).toFixed(1)} km`}},3130:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\doctor\appointments\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[165,775,429,377],()=>s(8996));module.exports=a})();