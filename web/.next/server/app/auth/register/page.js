(()=>{var e={};e.id=454,e.ids=[454],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1708:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>o}),r(655),r(9714),r(3019),r(1950),r(5683),r(8665),r(4590);var s=r(7105),a=r(5265),n=r(1695),l=r(4665),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let o=["",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,655)),"C:\\Users\\Sangman\\web\\app\\auth\\register\\page.tsx"]}]},{}]},{error:[()=>Promise.resolve().then(r.bind(r,9714)),"C:\\Users\\Sangman\\web\\app\\auth\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,3019)),"C:\\Users\\Sangman\\web\\app\\auth\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1950)),"C:\\Users\\Sangman\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,5683)),"C:\\Users\\Sangman\\web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,8665)),"C:\\Users\\Sangman\\web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,4590)),"C:\\Users\\Sangman\\web\\app\\not-found.tsx"]}],d=["C:\\Users\\Sangman\\web\\app\\auth\\register\\page.tsx"],c="/auth/register/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/register/page",pathname:"/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5917:(e,t,r)=>{Promise.resolve().then(r.bind(r,4123))},4123:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(9899),a=r(5507),n=r(6153),l=r(4175),i=r(5950),o=r(5650),d=r(7513),c=r(1652),m=r(7866),x=r(5517),h=r(6223),p=r(856),u=r(3818),g=r(1614),f=r(8776),b=r(1286),y=r(3427),j=r(5392),w=r(832),N=r(1768),v=r(8668),P=r(7640),S=r(7577),Z=r(1067);let k=d.Ry({name:d.Z_().min(2,"Name must be at least 2 characters"),email:d.Z_().email("Please enter a valid email"),phone:d.Z_().optional()});function C(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("role")||"patient",{login:r}=(0,j.t)(),[d,C]=(0,a.useState)("+91"),[_,A]=(0,a.useState)(""),[$,O]=(0,a.useState)(),[q,E]=(0,a.useState)("phone"),[G,R]=(0,a.useState)(!1),[U,T]=(0,a.useState)(null),[B,I]=(0,a.useState)(),[D,M]=(0,a.useState)(),{register:F,handleSubmit:Y,setValue:H,watch:V,formState:{errors:J,isSubmitting:z}}=(0,i.cI)({resolver:(0,o.F)(k)}),W=V("email"),L=async r=>{let s=(0,S.f0)(_,d),a="phone"===q?s:r.email,n=(0,Z.Dn)(a,"otp");if(!n.allowed){I(n.message),w.ZP.error(n.message||"Too many attempts");return}if(M(n.remainingAttempts),"phone"===q){let e=(0,S.BO)(_,d);if(!e.valid){O(e.error),w.ZP.error(e.error||"Invalid phone number");return}}if([].find(e=>"phone"===q?e.phone===a:e.email===a)){w.ZP.error(`An account with this ${q} already exists. Please login instead.`),e.push(`/auth/login?role=${t}`);return}(0,Z.Bw)({identifier:a,type:q,success:!1,method:"otp"}),T({...r,name:(0,Z.N1)(r.name),email:(0,Z.H3)(r.email)}),R(!0)},X="doctor"===t?{icon:c.Z,title:"Join as Doctor",subtitle:"Start accepting appointments today",gradient:"from-emerald-500 to-teal-600",bgGradient:"from-emerald-50 to-teal-50",accentColor:"emerald"}:{icon:m.Z,title:"Create Account",subtitle:"Your health journey starts here",gradient:"from-sky-500 to-cyan-600",bgGradient:"from-sky-50 to-cyan-50",accentColor:"sky"},K=X.icon;return(0,s.jsxs)("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,s.jsxs)("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br ${X.gradient} p-12 flex-col justify-between relative overflow-hidden`,children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)(l.default,{href:"/",className:"flex items-center gap-3 mb-12",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:s.jsx(m.Z,{className:"w-7 h-7 text-white heartbeat",fill:"white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SANGMAN"})]}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-white mb-6 leading-tight",children:"doctor"===t?"Grow Your Practice":"Healthcare at Your Fingertips"}),s.jsx("p",{className:"text-xl text-white/80 leading-relaxed max-w-md",children:"doctor"===t?"Join our network of verified doctors and connect with patients across the region.":"Access quality healthcare anytime, anywhere. Book appointments with verified doctors."})]}),(0,s.jsxs)("div",{className:"relative z-10 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx(x.Z,{className:"w-5 h-5"})}),s.jsx("span",{children:"OTP-Verified Registration"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx(h.Z,{className:"w-5 h-5"})}),s.jsx("span",{children:"Secure & Private"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx(p.Z,{className:"w-5 h-5"})}),s.jsx("span",{children:"No Passwords Required"})]})]})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"lg:hidden flex items-center justify-center gap-2 mb-8",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${X.gradient} rounded-xl flex items-center justify-center`,children:s.jsx(m.Z,{className:"w-6 h-6 text-white heartbeat",fill:"white"})}),s.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${X.gradient} bg-clip-text text-transparent`,children:"SANGMAN"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl shadow-gray-200/50 p-8 lg:p-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${X.gradient} rounded-2xl flex items-center justify-center shadow-lg`,children:s.jsx(K,{className:"w-7 h-7 text-white"})})}),s.jsx("h1",{className:"text-center text-2xl font-bold text-gray-900 mb-1",children:X.title}),s.jsx("p",{className:"text-center text-gray-500 mb-6",children:X.subtitle}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 py-2 px-4 bg-green-50 rounded-lg",children:[s.jsx(x.Z,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Secure OTP Registration"})]}),B&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[s.jsx(u.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-700",children:"Too Many Attempts"}),s.jsx("p",{className:"text-sm text-red-600",children:B})]})]}),(0,s.jsxs)("form",{onSubmit:Y(L),className:"space-y-5",children:[s.jsx(N.Z,{label:"Full Name",type:"text",icon:g.Z,placeholder:"Enter your full name",error:J.name?.message,...F("name")}),s.jsx(N.Z,{label:"Email Address",type:"email",icon:f.Z,placeholder:"Enter your email",error:J.email?.message,...F("email")}),s.jsx(v.Z,{label:"Phone Number",countryCode:d,onCountryCodeChange:e=>{C(e),_.length>0&&O((0,S.BO)(_,e).error)},onPhoneChange:e=>{A(e),H("phone",e),I(void 0),e.length>0?O((0,S.BO)(e,d).error):O(void 0)},value:_,error:$}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Verify via"}),(0,s.jsxs)("div",{className:"flex gap-2 p-1.5 bg-gray-100 rounded-xl",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>E("phone"),className:`flex-1 py-2.5 px-4 rounded-lg text-sm font-semibold transition-all flex items-center justify-center gap-2 ${"phone"===q?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(b.Z,{className:"w-4 h-4"}),"Phone OTP"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>E("email"),className:`flex-1 py-2.5 px-4 rounded-lg text-sm font-semibold transition-all flex items-center justify-center gap-2 ${"email"===q?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(f.Z,{className:"w-4 h-4"}),"Email OTP"]})]})]}),void 0!==D&&D<3&&(0,s.jsxs)("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[s.jsx(u.Z,{className:"w-4 h-4"}),D," attempt",1!==D?"s":""," remaining"]}),s.jsx("button",{type:"submit",disabled:z||!!B,className:`w-full rounded-xl bg-gradient-to-r ${X.gradient} py-3.5 text-sm font-semibold text-white hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg`,children:z?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:"Creating Account..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{children:"Continue & Verify OTP"}),s.jsx(y.Z,{className:"w-4 h-4"})]})}),(0,s.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["We'll send a 6-digit code to your ","phone"===q?"phone":"email"," to verify your account."]})]}),s.jsx("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",s.jsx(l.default,{href:`/auth/login?role=${t}`,className:"text-sky-600 hover:text-sky-700 font-semibold",children:"Sign in"})]})}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[s.jsx("p",{className:"text-sm text-center text-gray-500 mb-3",children:"Register as:"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(l.default,{href:"/auth/register?role=patient",className:`flex-1 py-3 px-4 rounded-xl text-sm font-semibold transition-all flex items-center justify-center gap-2 ${"patient"===t?"bg-gradient-to-r from-sky-500 to-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(m.Z,{className:"w-4 h-4"}),"Patient"]}),(0,s.jsxs)(l.default,{href:"/auth/register?role=doctor",className:`flex-1 py-3 px-4 rounded-xl text-sm font-semibold transition-all flex items-center justify-center gap-2 ${"doctor"===t?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(c.Z,{className:"w-4 h-4"}),"Doctor"]})]})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(l.default,{href:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"â† Back to Home"})})]})}),s.jsx(P.Z,{isOpen:G,onClose:()=>R(!1),onSuccess:()=>{if(U)try{let s=(0,S.f0)(_,d),a="phone"===q?s:U.email;(0,Z.sp)(a,"otp");let n=function(e){let t=[],r={id:"user_"+(0,Z.tk)().substring(0,16),phone:e.phone,email:e.email,name:e.name,role:e.role,verified:!0,createdAt:new Date().toISOString()};return t.push(r),localStorage.setItem("sangman_users_db",JSON.stringify(t)),r}({phone:s,email:U.email,name:U.name,role:t});(0,Z.EY)({identifier:"phone"===q?(0,Z.yD)(s):(0,Z.of)(U.email),type:q,fullValue:a,countryCode:"phone"===q?d:void 0,userName:n.name}),(0,Z.Bw)({identifier:a,type:q,success:!0,method:"otp"}),r({id:n.id,email:n.email||"",phone:n.phone||"",role:n.role,name:n.name,createdAt:n.createdAt,updatedAt:new Date().toISOString()},"token_"+(0,Z.tk)()),w.ZP.success(`Welcome, ${n.name}! Your account has been created.`),"doctor"===t?e.push("/doctor/verification"):e.push("/patient")}catch(e){w.ZP.error("Registration failed. Please try again.")}},phone:"phone"===q?(0,S.f0)(_,d):void 0,email:"email"===q?W:void 0,channel:"phone"===q?"sms":"email",purpose:"register"})]})}function _(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 to-cyan-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:s.jsx(m.Z,{className:"w-8 h-8 text-white heartbeat"})}),s.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})}function A(){return s.jsx(a.Suspense,{fallback:s.jsx(_,{}),children:s.jsx(C,{})})}},1768:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(9899),a=r(5507),n=r(1761),l=r(8514);let i=(0,a.forwardRef)(({label:e,type:t="text",icon:r,error:i,className:o="",...d},c)=>{let[m,x]=(0,a.useState)(!1),h="password"===t;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{...d,ref:c,type:h?m?"text":"password":t,placeholder:" ",className:`peer w-full rounded-lg border bg-white dark:bg-neutral-800 py-3 text-sm
            text-neutral-900 dark:text-neutral-100
            ${r?"pl-12":"pl-4"}
            ${h?"pr-12":"pr-4"}
            focus:outline-none focus:ring-2 transition-all
            ${i?"border-red-500 focus:ring-red-400 dark:border-red-600":"border-gray-300 dark:border-neutral-600 focus:ring-primary-500 focus:border-transparent"}
            ${o}`}),r&&s.jsx(r,{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400   transition-opacity duration-200 peer-focus:opacity-0 peer-[:not(:placeholder-shown)]:opacity-0"}),s.jsx("label",{className:`pointer-events-none absolute top-1/2 -translate-y-1/2 text-gray-500 dark:text-neutral-400
            transition-all duration-200 origin-left bg-white dark:bg-neutral-800 px-1
            ${r?"left-11":"left-3"}
            peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm
            peer-focus:top-0 peer-focus:text-xs peer-focus:text-primary-600 peer-focus:left-3 dark:peer-focus:text-primary-400
            peer-[:not(:placeholder-shown)]:top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:left-3
            peer-[:not(:placeholder-shown)]:text-neutral-600 dark:peer-[:not(:placeholder-shown)]:text-neutral-300`,children:e}),h&&s.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600    dark:hover:text-neutral-300 transition-colors",tabIndex:-1,"aria-label":m?"Hide password":"Show password",children:m?s.jsx(n.Z,{className:"w-5 h-5"}):s.jsx(l.Z,{className:"w-5 h-5"})})]}),i&&s.jsx("p",{className:"mt-1.5 text-xs text-red-500",children:i})]})});i.displayName="AuthInput";let o=i},655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2772).createProxy)(String.raw`C:\Users\Sangman\web\app\auth\register\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[165,206,987,429,14],()=>r(1708));module.exports=s})();