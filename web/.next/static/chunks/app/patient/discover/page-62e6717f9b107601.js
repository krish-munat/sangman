(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4256],{8930:function(e,t,r){Promise.resolve().then(r.bind(r,2944))},2828:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1996:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8146:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5758:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8369:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},2942:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7746:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8322).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8504:function(e,t,r){"use strict";var n=r(3226);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},6654:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(9741);r(7821),r(8078);let a=n._(r(9472));function l(e,t){var r;let n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let l={...n,...t};return(0,a.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=r(2472);function a(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},9472:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=r(7821),a=r(8078),l=r(9019),i=r(2986);function s(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},r=(0,a.lazy)(()=>t.loader().then(s)),c=t.loading;function d(e){let s=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(i.PreloadCss,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(a.Suspense,{fallback:s,children:o})}return d.displayName="LoadableComponent",d}},2986:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let n=r(7821),a=r(2105);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,a.getExpectedRequestStore)("next/dynamic css"),l=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,n.jsx)(n.Fragment,{children:l.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},4102:function(e,t,r){"use strict";r.d(t,{ak:function(){return n},fr:function(){return a}});let n={COMMISSION_RATE:.07,SUBSCRIPTION_DISCOUNT:.1,DEFAULT_EMERGENCY_MULTIPLIER:1.5,NIGHT_HOURS:{start:22,end:6},PEAK_HOURS:{start:18,end:22}},a=["General Medicine","Cardiology","Dermatology","Orthopedics","Pediatrics","Gynecology","Neurology","Psychiatry","Ophthalmology","ENT","Dentistry","Oncology","Urology","Gastroenterology","Endocrinology"]},2944:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7821),a=r(8078),l=r(8504),i=r(6654),s=r.n(i),o=r(8146),c=r(5758),d=r(8369),u=r(2942),m=r(2828),x=r(7746),f=r(1996),h=r(6352),p=r(4102),g=r(3784),y=r(6028);let b=s()(()=>Promise.all([r.e(7275),r.e(2039),r.e(2840)]).then(r.bind(r,2840)),{loadableGenerated:{webpack:()=>[2840]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-primary-500 mx-auto mb-2"}),(0,n.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Loading map..."})]})})});function v(){let e=(0,l.useRouter)(),{user:t}=(0,h.t)(),[r,i]=(0,a.useState)([]),[s,v]=(0,a.useState)([]),[j,N]=(0,a.useState)(""),[k,w]=(0,a.useState)(""),[S,M]=(0,a.useState)(!1),[P,A]=(0,a.useState)(null),[C,I]=(0,a.useState)(null),[O,D]=(0,a.useState)("list"),[Z,E]=(0,a.useState)(!0);(0,a.useEffect)(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{try{var t,r;(null==e?void 0:null===(t=e.coords)||void 0===t?void 0:t.latitude)&&(null==e?void 0:null===(r=e.coords)||void 0===r?void 0:r.longitude)&&A({lat:e.coords.latitude,lng:e.coords.longitude})}catch(e){console.error("Error setting location:",e)}},e=>{console.error("Error getting location:",e);let t="Could not access your location";if(e)switch(e.code){case e.PERMISSION_DENIED:t="Location access denied. Please enable location permissions.";break;case e.POSITION_UNAVAILABLE:t="Location information unavailable.";break;case e.TIMEOUT:t="Location request timed out."}y.ZP.error(t)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.warn("Geolocation is not supported by your browser");let e=[{id:"1",email:"dr.sharma@example.com",phone:"+919876543210",role:"doctor",name:"Dr. Rajesh Sharma",specializations:["Cardiology","General Medicine"],experience:15,qualifications:["MBBS","MD Cardiology"],clinicAddress:{street:"123 Medical Street",city:"Delhi",state:"Delhi",zipCode:"110001",coordinates:{latitude:28.6139,longitude:77.209}},consultationFee:500,emergencyFee:1e3,availability:{days:{},timezone:"Asia/Kolkata"},emergencyAvailable:!0,verified:!0,verificationStatus:"approved",rating:4.8,totalReviews:120,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",email:"dr.patel@example.com",phone:"+919876543211",role:"doctor",name:"Dr. Anita Patel",specializations:["Pediatrics"],experience:10,qualifications:["MBBS","MD Pediatrics"],clinicAddress:{street:"456 Health Avenue",city:"Mumbai",state:"Maharashtra",zipCode:"400001",coordinates:{latitude:19.076,longitude:72.8777}},consultationFee:600,emergencyFee:1200,availability:{days:{},timezone:"Asia/Kolkata"},emergencyAvailable:!1,verified:!0,verificationStatus:"approved",rating:4.9,totalReviews:85,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",email:"dr.singh@example.com",phone:"+919876543212",role:"doctor",name:"Dr. Vikram Singh",specializations:["Orthopedics"],experience:20,qualifications:["MBBS","MS Orthopedics"],clinicAddress:{street:"789 Care Center",city:"Bangalore",state:"Karnataka",zipCode:"560001",coordinates:{latitude:12.9716,longitude:77.5946}},consultationFee:800,emergencyFee:1600,availability:{days:{},timezone:"Asia/Kolkata"},emergencyAvailable:!0,verified:!0,verificationStatus:"approved",rating:4.7,totalReviews:200,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];i(e),v(e),E(!1)},[]),(0,a.useEffect)(()=>{let e=r;j&&(e=e.filter(e=>e.name.toLowerCase().includes(j.toLowerCase())||e.specializations.some(e=>e.toLowerCase().includes(j.toLowerCase())))),k&&(e=e.filter(e=>e.specializations.includes(k))),S&&(e=e.filter(e=>e.emergencyAvailable)),v(e)},[j,k,S,r]);let _=t=>{try{if(!(null==t?void 0:t.id)){y.ZP.error("Invalid doctor selected");return}e.push("/patient/booking?doctorId=".concat(t.id))}catch(e){console.error("Error booking appointment:",e),y.ZP.error("Failed to open booking page")}},R=e=>{try{var t;if(!P||!(null==e?void 0:null===(t=e.clinicAddress)||void 0===t?void 0:t.coordinates))return null;let r=P.lat*Math.PI/180,n=e.clinicAddress.coordinates.latitude*Math.PI/180,a=(e.clinicAddress.coordinates.latitude-P.lat)*Math.PI/180,l=(e.clinicAddress.coordinates.longitude-P.lng)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(r)*Math.cos(n)*Math.sin(l/2)*Math.sin(l/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3}catch(e){return console.error("Error calculating distance:",e),null}};return Z?(0,n.jsx)("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(o.Z,{className:"w-12 h-12 animate-spin text-primary-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Finding doctors near you..."})]})}):(0,n.jsxs)("div",{className:"min-h-screen bg-white dark:bg-slate-900",children:[(0,n.jsx)("div",{className:"bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Find Doctors"}),(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)("button",{onClick:()=>D("list"===O?"map":"list"),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"list"===O?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Map View"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"List View"})]})})})]}),(0,n.jsxs)("div",{className:"relative w-full mb-4",children:[(0,n.jsx)(u.Z,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400 dark:text-neutral-500"}),(0,n.jsx)("input",{type:"text",placeholder:"Search by name or specialty...",value:j,onChange:e=>N(e.target.value),className:"w-full rounded-lg border border-neutral-300 dark:border-neutral-600 py-3 pl-12 pr-4 text-sm bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsxs)("select",{value:k,onChange:e=>w(e.target.value),className:"px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,n.jsx)("option",{value:"",children:"All Specialties"}),p.fr.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsxs)("button",{onClick:()=>M(!S),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(S?"bg-emergency-500 text-white":"border border-neutral-300 dark:border-neutral-600 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"),children:[(0,n.jsx)(m.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Emergency Only"})]})]})]})}),(0,n.jsx)("div",{className:"container mx-auto px-4 py-6",children:"list"===O?(0,n.jsx)("div",{className:"grid gap-4",children:0===s.length?(0,n.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-12 text-center border border-neutral-200 dark:border-neutral-700",children:[(0,n.jsx)(u.Z,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"No doctors found"}),(0,n.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4",children:"Try adjusting your search or filters to find doctors."}),(0,n.jsx)("button",{onClick:()=>{N(""),w(""),M(!1)},className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Clear Filters"})]}):s.map(e=>{let t=R(e);return(0,n.jsx)("div",{id:"doctor-".concat(e.id),className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700 hover:shadow-lg transition-shadow",children:(0,n.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.specializations.join(", ")})]}),e.emergencyAvailable&&(0,n.jsx)("span",{className:"px-2 py-1 bg-emergency-100 dark:bg-emergency-900 text-emergency-700 dark:text-emergency-300 text-xs font-medium rounded",children:"Emergency Available"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(x.Z,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,n.jsx)("span",{className:"font-medium",children:e.rating}),(0,n.jsxs)("span",{children:["(",e.totalReviews," reviews)"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(f.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[e.experience," years exp."]})]}),null!==t&&(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(c.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:(0,g.WN)(t)})]})]}),(0,n.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:["\uD83D\uDCCD ",e.clinicAddress.street,", ",e.clinicAddress.city,","," ",e.clinicAddress.state]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,n.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,n.jsx)("span",{className:"text-xl font-bold text-primary-500",children:(0,g.xG)(e.consultationFee)}),(0,n.jsx)("span",{className:"text-sm text-neutral-500",children:"/consultation"})]}),(0,n.jsx)("button",{onClick:()=>_(e),className:"px-6 py-2.5 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Book Appointment"})]})]})})},e.id)})}):(0,n.jsx)("div",{className:"h-[calc(100vh-300px)] min-h-[400px] rounded-lg overflow-hidden border border-neutral-200 dark:border-neutral-700",children:(0,n.jsx)(b,{doctors:s,userLocation:P||void 0,onDoctorSelect:e=>{I(e),D("list"),setTimeout(()=>{var t;null===(t=document.getElementById("doctor-".concat(e.id)))||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"})},100)},selectedDoctorId:null==C?void 0:C.id})})})]})}},6352:function(e,t,r){"use strict";r.d(t,{t:function(){return l}});var n=r(3020),a=r(4302);let l=(0,n.Ue)()((0,a.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,isHydrated:!1,login:(t,r)=>{e({user:t,token:r,isAuthenticated:!0})},logout:()=>{e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null})),setHydrated:()=>e({isHydrated:!0})}),{name:"sangman-auth",storage:(0,a.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&e.setHydrated()}}))},3784:function(e,t,r){"use strict";r.d(t,{KL:function(){return i},WN:function(){return s},p6:function(){return l},xG:function(){return a}});var n=r(6540);function a(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PPP";return(0,n.Z)(new Date(e),t)}function i(e,t){let r=e=>{let[t,r]=e.split(":").map(Number);return"".concat(t%12||12,":").concat(r.toString().padStart(2,"0")," ").concat(t>=12?"PM":"AM")};return"".concat(r(e)," - ").concat(r(t))}function s(e){return e<1e3?"".concat(Math.round(e)," m"):"".concat((e/1e3).toFixed(1)," km")}}},function(e){e.O(0,[9463,6028,6540,7115,2364,1744],function(){return e(e.s=8930)}),_N_E=e.O()}]);