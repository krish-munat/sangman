(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2488],{3703:function(e,t,r){Promise.resolve().then(r.bind(r,2366))},2531:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8322).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1996:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8322).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2133:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8322).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},6515:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8322).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},9024:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8322).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},3955:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8322).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2366:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(7821),i=r(8078),s=r(2133),n=r(6515),l=r(8322);let c=(0,l.Z)("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),d=(0,l.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var o=r(2531),u=r(3955),m=r(1996),p=r(9024),x=r(6352),h=r(4931),f=r(6028);function y(){let{user:e,updateUser:t}=(0,x.t)(),[r,l]=(0,i.useState)({aadhaarCard:null,panCard:null,medicalLicense:null,degree:[],selfie:null}),[y,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{g(!0)},[]);let v=(e,t)=>{try{if(t){let e=(0,h.L$)(t,{maxSize:10,allowedTypes:["image/jpeg","image/png","image/jpg","application/pdf"]});if(!e.valid){f.ZP.error(e.error||"Invalid file");return}}l(r=>({...r,[e]:t})),t&&f.ZP.success("File uploaded successfully")}catch(e){f.ZP.error((null==e?void 0:e.message)||"Failed to upload file")}},b=async()=>{try{if(!r.aadhaarCard){f.ZP.error("Please upload Aadhaar Card");return}if(!r.panCard){f.ZP.error("Please upload PAN Card");return}if(!r.medicalLicense){f.ZP.error("Please upload Medical License");return}if(0===r.degree.length){f.ZP.error("Please upload at least one Medical Degree/Certificate");return}if(!r.selfie){f.ZP.error("Please upload a selfie for identity verification");return}t({verificationStatus:"pending"}),f.ZP.success("Documents submitted for verification. We will review them shortly.")}catch(t){let e=(0,h.S3)(t,"Failed to submit documents. Please try again.");f.ZP.error(e)}};if(!y)return(0,a.jsx)("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})});let j=(null==e?void 0:e.verificationStatus)||"pending",k=[{id:"aadhaarCard",label:"Aadhaar Card",icon:s.Z,required:!0,description:"Upload front and back of your Aadhaar card"},{id:"panCard",label:"PAN Card",icon:s.Z,required:!0,description:"Upload a clear photo of your PAN card"},{id:"medicalLicense",label:"Medical License",icon:n.Z,required:!0,description:"Upload your valid medical license certificate"},{id:"degree",label:"Medical Degree/Certificates",icon:c,required:!0,description:"Upload your medical degree and relevant certificates",multiple:!0},{id:"selfie",label:"Selfie for Identity Verification",icon:d,required:!0,description:"Take a clear selfie holding your ID card"}];return(0,a.jsx)("div",{className:"min-h-screen bg-white dark:bg-slate-900 py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Doctor Verification"}),(0,a.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Complete your verification to start accepting appointments"}),"pending"!==j&&(0,a.jsx)("div",{className:"card mb-6 ".concat("approved"===j?"bg-success-50 dark:bg-success-900 border-success-200":"bg-emergency-50 dark:bg-emergency-900 border-emergency-200"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["approved"===j?(0,a.jsx)(o.Z,{className:"w-6 h-6 text-success-500"}):(0,a.jsx)(u.Z,{className:"w-6 h-6 text-emergency-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-1",children:"approved"===j?"Verification Approved":"Verification Rejected"}),(0,a.jsx)("p",{className:"text-sm",children:"approved"===j?"Your profile is verified and visible to patients":"Please review and resubmit your documents"})]})]})}),"pending"===j&&(0,a.jsx)("div",{className:"card mb-6 bg-yellow-50 dark:bg-yellow-900 border-yellow-200",children:(0,a.jsxs)("div",{className:"icon-text-group items-start",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold mb-1",children:"Verification Pending"}),(0,a.jsx)("p",{className:"text-sm",children:"Your documents are under review. We will notify you once verified."})]})]})}),(0,a.jsx)("div",{className:"space-y-6",children:k.map(e=>{let t=e.icon,i=r[e.id];return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"icon-text-group mb-2",children:[(0,a.jsx)(t,{className:"w-5 h-5 text-primary-500 flex-shrink-0"}),(0,a.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:[e.label,e.required&&(0,a.jsx)("span",{className:"text-emergency-500 ml-1",children:"*"})]})]}),(0,a.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.description})]})}),(0,a.jsx)("div",{className:"border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg p-6 text-center",children:i?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-success-500 mx-auto"}),(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:Array.isArray(i)?"".concat(i.length," file(s) uploaded"):i.name}),(0,a.jsx)("button",{onClick:()=>v(e.id,null),className:"text-sm text-emergency-500 hover:text-emergency-600",children:"Remove"})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(p.Z,{className:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsx)("input",{type:"file",multiple:e.multiple,accept:"image/*,.pdf",onChange:t=>{let r=t.target.files;r&&(e.multiple?v(e.id,Array.from(r)):v(e.id,r[0]))},className:"hidden"}),(0,a.jsx)("span",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Click to upload"}),(0,a.jsx)("span",{className:"text-neutral-600 dark:text-neutral-400 ml-2",children:"or drag and drop"})]}),(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-500 mt-2",children:"PNG, JPG, PDF up to 10MB"})]})})]},e.id)})}),"approved"!==j&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("button",{onClick:b,disabled:!r.aadhaarCard||!r.panCard||!r.medicalLicense||0===r.degree.length||!r.selfie||"pending"===j,className:"btn-primary w-full",children:"Submit for Verification"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 text-center mt-4",children:"All documents will be reviewed by our admin team. This process usually takes 24-48 hours."})]})]})})}},6352:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var a=r(3020),i=r(4302);let s=(0,a.Ue)()((0,i.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,isHydrated:!1,login:(t,r)=>{e({user:t,token:r,isAuthenticated:!0})},logout:()=>{e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null})),setHydrated:()=>e({isHydrated:!0})}),{name:"sangman-auth",storage:(0,i.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&e.setHydrated()}}))},4931:function(e,t,r){"use strict";r.d(t,{L$:function(){return s},S3:function(){return n},m2:function(){return i}});class a extends Error{constructor(e,t,r=500,i){super(e),this.code=t,this.statusCode=r,this.details=i,this.name="AppError",Object.setPrototypeOf(this,a.prototype)}}function i(e){let t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t>=r}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{maxSize:r=10,allowedTypes:a=["image/jpeg","image/png","application/pdf"]}=t;return e.size/1048576>r?{valid:!1,error:"File size must be less than ".concat(r,"MB")}:a.includes(e.type)?{valid:!0}:{valid:!1,error:"File type not allowed. Allowed types: ".concat(a.join(", "))}}function n(e,t){return t||function(e){if(e instanceof a)return e.message;if(e.response){let t=e.response.status,r=e.response.data;switch(t){case 400:return(null==r?void 0:r.message)||"Invalid request. Please check your input.";case 401:return"Please login to continue.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 422:return(null==r?void 0:r.message)||"Validation failed. Please check your input.";case 429:return"Too many requests. Please try again later.";case 500:return"Server error. Please try again later.";case 503:return"Service temporarily unavailable. Please try again later.";default:return(null==r?void 0:r.message)||"An error occurred. Please try again."}}return e.request?"Unable to connect to server. Please check your internet connection.":"An unexpected error occurred. Please try again."}(e)}}},function(e){e.O(0,[9463,6028,7115,2364,1744],function(){return e(e.s=3703)}),_N_E=e.O()}]);